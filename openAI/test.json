{"prompt": "diff --git a/CHANGES.md b/CHANGES.md index 58ef1a5..027a175 100644 --- a/CHANGES.md +++ b/CHANGES.md @@ -1,6 +1,6 @@ # aws-api -## DEV +## 0.8.603 / 2022-10-11 CHANGES.md LICENSE README.md UPGRADE.md VERSION_PREFIX build deps.edn dev doc examples latest-releases.edn pom.xml resources src test parse XML error messages from AWS even when we ask for JSON [#174](https://github.com/cognitect-labs/aws-api/issues/174) diff --git a/README.md b/README.md index e0be38c..8953de8 100644 --- a/README.md +++ b/README.md @@ -73,8 +73,8 @@ of your choice, e.g. `com.cognitect.aws/s3`. To use, for example, the s3 api, add the following to deps.edn ``` clojure -{:deps {com.cognitect.aws/api {:mvn/version \"0.8.596\"} - com.cognitect.aws/endpoints {:mvn/version \"1.1.12.307\"} +{:deps {com.cognitect.aws/api {:mvn/version \"0.8.603\"} + com.cognitect.aws/endpoints {:mvn/version \"1.1.12.321\"} com.cognitect.aws/s3 {:mvn/version \"822.2.1145.0\"}}} ``` @@ -204,11 +204,16 @@ and before it checks your aws configuration. ## Endpoint Override -Most of the time you can create a client and it figures out the correct endpoint for you, -but there are exceptions. You may want to use a proxy server or connect to a local dynamodb, -or perhaps you've found a bug that you could work around if you could supply the correct -endpoint. All of this can be accomplished by supplying an `:endpoint-override` map -to the `client` constructor: +Most of the time you can create a client and it figures out the correct endpoint for you. The +endpoints of most AWS API operations adhere to the pattern documented in [AWS Regions and +Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html). But there are exceptions. + +* Some AWS APIs have operations which require custom endpoints (e.g. Kinesis Video [GetMedia](https://docs.aws.amazon.com/kinesisvideostreams/latest/dg/API_dataplane_GetMedia.html)). +* You may want to use a proxy server or connect to a local dynamodb. +* Perhaps you've found a bug that you could work around if you could supply the correct endpoint. + +All of this can be accomplished by supplying an `:endpoint-override` map to the `client` +constructor: ``` clojure (def ddb (aws/client {:api :dynamodb @@ -367,7 +372,7 @@ function bound to the `:backoff` key when you create a client. :backoff (fn [n-tries-so-far] ,,)}) ``` -Don't forget to account for termination by retuning nil after some number of retries. +Don't forget to account for termination by returning nil after some number of retries. You an also use `cognitect.aws.retry/capped-exponential-backoff` to generate a function with different values for base, max-backoff, and @@ -378,7 +383,7 @@ max-retries, and then pass that to `client`. This indicates that the configured endpoint is incorrect for the service/op you are trying to perform. -Remedy: check [AWS Regions and Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html) +Remedy: check [AWS Regions and Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html) for the proper endpoint and use the `:endpoint-override` key when creating a client, e.g. @@ -388,6 +393,27 @@ e.g. :endpoint-override {:hostname (str my-account-id \".s3-control.us-east-1.amazonaws.com\")}}) ``` +### UnknownOperationException + +AWS will return an `UnknownOperationException` response when a client is configured with (or defaults to) an incorrect endpoint. + +Remedy: check [AWS Regions and Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html) for +the proper endpoint and use the `:endpoint-override` key when creating a client. + +Note that some AWS APIs have custom endpoint requirements. For example, Kinesis Video [Get +Media](https://docs.aws.amazon.com/kinesisvideostreams/latest/dg/API_dataplane_GetMedia.html) +operation requires a custom endpoint, e.g. + +``` clojure +(def kvs (aws/client {:api :kinesisvideo ... })) + +(def kvs-endpoint (:DataEndpoint (aws/invoke kvs {:op :GetDataEndpoint ... }))) + +(aws/client {:api :kinesis-video-media + :region \"us-east-1\" + :endpoint-override {:hostname (str/replace kvs-endpoint #\"https://\" \"\")}}) +``` + ### No known endpoint. This indicates that the data in the `com.cognitect.aws/endpoints` lib diff --git a/deps.edn b/deps.edn index 11b874f..1339b33 100644 --- a/deps.edn +++ b/deps.edn @@ -17,7 +17,7 @@ http-kit/http-kit {:mvn/version \"2.6.0\"} com.cognitect.aws/endpoints {:mvn/version \"1.1.12.280\"} com.cognitect.aws/s3 {:mvn/version \"822.2.1145.0\"}}} - :test {:extra-deps {io.github.cognitect-labs/test-runner {:git/tag \"v0.5.0\" :git/sha \"b3fd0d2\"}} + :test {:extra-deps {io.github.cognitect-labs/test-runner {:git/tag \"v0.5.1\" :git/sha \"dfb30dd\"}} :main-opts [\"-m\" \"cognitect.test-runner\"]} :examples {:extra-paths [\"examples\" \"examples/resources\" \"dev/resources\"] :extra-deps {com.cognitect.aws/dynamodb {:mvn/version \"822.2.1171.0\"} diff --git a/examples/README.md b/examples/README.md index 6a5c499..0ccaaa6 100644 --- a/examples/README.md +++ b/examples/README.md @@ -5,7 +5,7 @@ clone this repo and start a repl in your preferred environment using the deps.edn in the project root, e.g. ``` -clj -A:examples +clj -A:dev:examples ``` Then you can open any of the xxx_examples.clj files and start evaluating forms. diff --git a/examples/deps.edn b/examples/deps.edn deleted file mode 100644 index 623dd86..0000000 --- a/examples/deps.edn +++ /dev/null @@ -1,10 +0,0 @@ -{:deps {com.cognitect.aws/api {:mvn/version \"0.8.391\" - :exclusions [org.slf4j/slf4j-log4j12]} - com.cognitect.aws/dynamodb {:mvn/version \"746.2.533.0\"} - com.cognitect.aws/ec2 {:mvn/version \"759.2.556.0\"} - com.cognitect.aws/endpoints {:mvn/version \"1.1.11.664\"} - com.cognitect.aws/logs {:mvn/version \"747.2.533.0\"} - com.cognitect.aws/autoscaling {:mvn/version \"770.2.568.0\"} - com.cognitect.aws/cloudformation {:mvn/version \"746.2.533.0\"} - com.cognitect.aws/s3 {:mvn/version \"762.2.558.0\"} - com.cognitect.aws/resourcegroupstaggingapi {:mvn/version \"747.2.533.0\"}}} diff --git a/latest-releases.edn b/latest-releases.edn index 0b9307f..264297c 100644 --- a/latest-releases.edn +++ b/latest-releases.edn @@ -1,5 +1,5 @@ -{com.cognitect.aws/api {:mvn/version \"0.8.596\"}, - com.cognitect.aws/endpoints {:mvn/version \"1.1.12.307\"}, +{com.cognitect.aws/api {:mvn/version \"0.8.603\"}, + com.cognitect.aws/endpoints {:mvn/version \"1.1.12.321\"}, com.cognitect.aws/AWS242AppRegistry {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Service Catalog App Registry\"}, com.cognitect.aws/AWSApplicationCostProfiler @@ -7,10 +7,10 @@ com.cognitect.aws/AWSMigrationHub {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Migration Hub\"}, com.cognitect.aws/accessanalyzer - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Access Analyzer\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Access Analyzer\"}, com.cognitect.aws/account {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Account\"}, com.cognitect.aws/acm - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Certificate Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Certificate Manager\"}, com.cognitect.aws/acm-pca {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Certificate Manager Private Certificate Authority\"}, @@ -22,7 +22,7 @@ com.cognitect.aws/amplifybackend {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AmplifyBackend\"}, com.cognitect.aws/amplifyuibuilder - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Amplify UI Builder\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Amplify UI Builder\"}, com.cognitect.aws/apigateway {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon API Gateway\"}, com.cognitect.aws/apigatewaymanagementapi @@ -33,7 +33,7 @@ {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon AppConfig\"}, com.cognitect.aws/appconfigdata {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS AppConfig Data\"}, - com.cognitect.aws/appflow {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Appflow\"}, + com.cognitect.aws/appflow {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Appflow\"}, com.cognitect.aws/appintegrations {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon AppIntegrations Service\"}, com.cognitect.aws/application-autoscaling @@ -41,7 +41,7 @@ com.cognitect.aws/application-insights {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon CloudWatch Application Insights\"}, com.cognitect.aws/appmesh {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS App Mesh\"}, - com.cognitect.aws/apprunner {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS App Runner\"}, + com.cognitect.aws/apprunner {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS App Runner\"}, com.cognitect.aws/appstream {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon AppStream\"}, com.cognitect.aws/appsync {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS AppSync\"}, @@ -53,7 +53,7 @@ {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Auto Scaling Plans\"}, com.cognitect.aws/backup {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Backup\"}, com.cognitect.aws/backup-gateway - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Backup Gateway\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Backup Gateway\"}, com.cognitect.aws/backupstorage {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Backup Storage\"}, com.cognitect.aws/batch {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Batch\"}, @@ -62,7 +62,7 @@ com.cognitect.aws/braket {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Braket\"}, com.cognitect.aws/budgets {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Budgets\"}, com.cognitect.aws/ce - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Cost Explorer Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Cost Explorer Service\"}, com.cognitect.aws/chime {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Chime\"}, com.cognitect.aws/chime-sdk-identity {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Chime SDK Identity\"}, @@ -92,9 +92,9 @@ com.cognitect.aws/codeartifact {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"CodeArtifact\"}, com.cognitect.aws/codebuild {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS CodeBuild\"}, com.cognitect.aws/codecommit {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS CodeCommit\"}, - com.cognitect.aws/codedeploy {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS CodeDeploy\"}, + com.cognitect.aws/codedeploy {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS CodeDeploy\"}, com.cognitect.aws/codeguru-reviewer - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon CodeGuru Reviewer\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon CodeGuru Reviewer\"}, com.cognitect.aws/codeguruprofiler {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon CodeGuru Profiler\"}, com.cognitect.aws/codepipeline @@ -111,24 +111,26 @@ com.cognitect.aws/cognito-sync {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Cognito Sync\"}, com.cognitect.aws/comprehend - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Comprehend\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Comprehend\"}, com.cognitect.aws/comprehendmedical {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Comprehend Medical\"}, com.cognitect.aws/compute-optimizer {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Compute Optimizer\"}, com.cognitect.aws/config {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Config\"}, com.cognitect.aws/connect - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Connect Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Connect Service\"}, com.cognitect.aws/connect-contact-lens {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Connect Contact Lens\"}, com.cognitect.aws/connectcampaigns {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AmazonConnectCampaignService\"}, + com.cognitect.aws/connectcases + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Connect Cases\"}, com.cognitect.aws/connectparticipant {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Connect Participant Service\"}, com.cognitect.aws/controltower {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Control Tower\"}, com.cognitect.aws/cur - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Cost and Usage Report Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Cost and Usage Report Service\"}, com.cognitect.aws/customer-profiles {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Connect Customer Profiles\"}, com.cognitect.aws/databrew @@ -143,17 +145,17 @@ com.cognitect.aws/detective {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Detective\"}, com.cognitect.aws/devicefarm - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Device Farm\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Device Farm\"}, com.cognitect.aws/devices {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS IoT 1-Click Devices Service\"}, com.cognitect.aws/devops-guru - {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon DevOps Guru\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon DevOps Guru\"}, com.cognitect.aws/directconnect {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Direct Connect\"}, com.cognitect.aws/discovery {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Application Discovery Service\"}, com.cognitect.aws/dlm - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Data Lifecycle Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Data Lifecycle Manager\"}, com.cognitect.aws/dms {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Database Migration Service\"}, com.cognitect.aws/docdb @@ -161,12 +163,12 @@ :aws/serviceFullName \"Amazon DocumentDB with MongoDB compatibility\"}, com.cognitect.aws/drs {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Elastic Disaster Recovery Service\"}, - com.cognitect.aws/ds {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Directory Service\"}, + com.cognitect.aws/ds {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Directory Service\"}, com.cognitect.aws/dynamodb {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon DynamoDB\"}, com.cognitect.aws/ebs {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Elastic Block Store\"}, com.cognitect.aws/ec2 - {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon Elastic Compute Cloud\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Elastic Compute Cloud\"}, com.cognitect.aws/ec2-instance-connect {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS EC2 Instance Connect\"}, com.cognitect.aws/ecr @@ -174,7 +176,7 @@ com.cognitect.aws/ecr-public {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Elastic Container Registry Public\"}, com.cognitect.aws/ecs - {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon EC2 Container Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon EC2 Container Service\"}, com.cognitect.aws/eks {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Elastic Kubernetes Service\"}, com.cognitect.aws/elastic-inference @@ -188,7 +190,7 @@ com.cognitect.aws/elasticloadbalancing {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Elastic Load Balancing\"}, com.cognitect.aws/elasticloadbalancingv2 - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Elastic Load Balancing\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Elastic Load Balancing\"}, com.cognitect.aws/elasticmapreduce {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon EMR\"}, com.cognitect.aws/elastictranscoder @@ -198,7 +200,7 @@ com.cognitect.aws/emr-containers {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon EMR Containers\"}, com.cognitect.aws/emr-serverless - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"EMR Serverless\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"EMR Serverless\"}, com.cognitect.aws/entitlement-marketplace {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Marketplace Entitlement Service\"}, com.cognitect.aws/es @@ -223,22 +225,22 @@ {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Forecast Query Service\"}, com.cognitect.aws/frauddetector {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon Fraud Detector\"}, - com.cognitect.aws/fsx {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon FSx\"}, + com.cognitect.aws/fsx {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon FSx\"}, com.cognitect.aws/gamelift {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon GameLift\"}, com.cognitect.aws/gamesparks {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"GameSparks\"}, com.cognitect.aws/glacier {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Glacier\"}, com.cognitect.aws/globalaccelerator {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Global Accelerator\"}, - com.cognitect.aws/glue {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Glue\"}, + com.cognitect.aws/glue {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Glue\"}, com.cognitect.aws/grafana {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Managed Grafana\"}, com.cognitect.aws/greengrass {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Greengrass\"}, com.cognitect.aws/greengrassv2 - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS IoT Greengrass V2\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS IoT Greengrass V2\"}, com.cognitect.aws/groundstation {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Ground Station\"}, com.cognitect.aws/guardduty - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon GuardDuty\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon GuardDuty\"}, com.cognitect.aws/health {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Health APIs and Notifications\"}, com.cognitect.aws/healthlake @@ -246,9 +248,9 @@ com.cognitect.aws/honeycode {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Honeycode\"}, com.cognitect.aws/iam - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Identity and Access Management\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Identity and Access Management\"}, com.cognitect.aws/identitystore - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS SSO Identity Store\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS SSO Identity Store\"}, com.cognitect.aws/imagebuilder {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"EC2 Image Builder\"}, com.cognitect.aws/importexport @@ -272,6 +274,8 @@ {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS IoT Events Data\"}, com.cognitect.aws/iotfleethub {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS IoT Fleet Hub\"}, + com.cognitect.aws/iotfleetwise + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS IoT FleetWise\"}, com.cognitect.aws/iotsecuretunneling {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS IoT Secure Tunneling\"}, com.cognitect.aws/iotsitewise @@ -291,7 +295,7 @@ com.cognitect.aws/kafkaconnect {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Managed Streaming for Kafka Connect\"}, com.cognitect.aws/kendra - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWSKendraFrontendService\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWSKendraFrontendService\"}, com.cognitect.aws/keyspaces {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Keyspaces\"}, com.cognitect.aws/kinesis {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Kinesis\"}, @@ -319,9 +323,9 @@ com.cognitect.aws/license-manager-user-subscriptions {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS License Manager User Subscriptions\"}, com.cognitect.aws/lightsail - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Lightsail\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Lightsail\"}, com.cognitect.aws/location - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Location Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Location Service\"}, com.cognitect.aws/logs {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon CloudWatch Logs\"}, com.cognitect.aws/lookoutequipment @@ -345,13 +349,13 @@ com.cognitect.aws/mediaconnect {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"AWS MediaConnect\"}, com.cognitect.aws/mediaconvert - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Elemental MediaConvert\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Elemental MediaConvert\"}, com.cognitect.aws/medialive - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Elemental MediaLive\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Elemental MediaLive\"}, com.cognitect.aws/mediapackage {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Elemental MediaPackage\"}, com.cognitect.aws/mediapackage-vod - {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"AWS Elemental MediaPackage VOD\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Elemental MediaPackage VOD\"}, com.cognitect.aws/mediastore {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Elemental MediaStore\"}, com.cognitect.aws/mediastore-data @@ -367,13 +371,15 @@ {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Migration Hub Refactor Spaces\"}, com.cognitect.aws/migrationhub-config {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Migration Hub Config\"}, + com.cognitect.aws/migrationhuborchestrator + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Migration Hub Orchestrator\"}, com.cognitect.aws/migrationhubstrategy {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Migration Hub Strategy Recommendations\"}, com.cognitect.aws/mobile {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Mobile\"}, com.cognitect.aws/mobileanalytics {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Mobile Analytics\"}, com.cognitect.aws/models-lex-v2 - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Lex Model Building V2\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Lex Model Building V2\"}, com.cognitect.aws/monitoring {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon CloudWatch\"}, com.cognitect.aws/mq {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"AmazonMQ\"}, @@ -382,10 +388,10 @@ com.cognitect.aws/mwaa {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AmazonMWAA\"}, com.cognitect.aws/neptune {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon Neptune\"}, com.cognitect.aws/network-firewall - {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Network Firewall\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Network Firewall\"}, com.cognitect.aws/networkmanager {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Network Manager\"}, - com.cognitect.aws/nimble {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AmazonNimbleStudio\"}, + com.cognitect.aws/nimble {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AmazonNimbleStudio\"}, com.cognitect.aws/opensearch {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon OpenSearch Service\"}, com.cognitect.aws/opsworks {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS OpsWorks\"}, @@ -393,8 +399,8 @@ {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS OpsWorks CM\"}, com.cognitect.aws/organizations {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Organizations\"}, - com.cognitect.aws/outposts {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Outposts\"}, - com.cognitect.aws/panorama {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Panorama\"}, + com.cognitect.aws/outposts {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Outposts\"}, + com.cognitect.aws/panorama {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Panorama\"}, com.cognitect.aws/personalize {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Personalize\"}, com.cognitect.aws/personalize-events @@ -410,24 +416,24 @@ {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Pinpoint SMS and Voice Service\"}, com.cognitect.aws/pinpoint-sms-voice-v2 {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Pinpoint SMS Voice V2\"}, - com.cognitect.aws/polly {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Polly\"}, + com.cognitect.aws/polly {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Polly\"}, com.cognitect.aws/pricing {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Price List Service\"}, com.cognitect.aws/privatenetworks {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Private 5G\"}, - com.cognitect.aws/proton {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Proton\"}, + com.cognitect.aws/proton {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Proton\"}, com.cognitect.aws/qldb {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon QLDB\"}, com.cognitect.aws/qldb-session {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon QLDB Session\"}, com.cognitect.aws/quicksight - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon QuickSight\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon QuickSight\"}, com.cognitect.aws/ram {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Resource Access Manager\"}, com.cognitect.aws/rbin {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Recycle Bin\"}, com.cognitect.aws/rds {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon Relational Database Service\"}, com.cognitect.aws/rds-data - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS RDS DataService\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS RDS DataService\"}, com.cognitect.aws/redshift {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Redshift\"}, com.cognitect.aws/redshift-data {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Redshift Data API Service\"}, @@ -436,7 +442,7 @@ com.cognitect.aws/rekognition {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Rekognition\"}, com.cognitect.aws/resiliencehub - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Resilience Hub\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Resilience Hub\"}, com.cognitect.aws/resource-groups {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Resource Groups\"}, com.cognitect.aws/resourcegroupstaggingapi @@ -461,14 +467,14 @@ com.cognitect.aws/runtime-lex-v2 {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Lex Runtime V2\"}, com.cognitect.aws/runtime-sagemaker - {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon SageMaker Runtime\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon SageMaker Runtime\"}, com.cognitect.aws/s3 {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Simple Storage Service\"}, - com.cognitect.aws/s3control {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS S3 Control\"}, + com.cognitect.aws/s3control {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS S3 Control\"}, com.cognitect.aws/s3outposts {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon S3 on Outposts\"}, com.cognitect.aws/sagemaker - {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon SageMaker Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon SageMaker Service\"}, com.cognitect.aws/sagemaker-a2i-runtime {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Augmented AI Runtime\"}, com.cognitect.aws/sagemaker-edge @@ -480,7 +486,7 @@ com.cognitect.aws/schemas {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Schemas\"}, com.cognitect.aws/sdb {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon SimpleDB\"}, com.cognitect.aws/secretsmanager - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Secrets Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Secrets Manager\"}, com.cognitect.aws/securityhub {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS SecurityHub\"}, com.cognitect.aws/serverlessrepo @@ -500,22 +506,22 @@ com.cognitect.aws/snow-device-management {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Snow Device Management\"}, com.cognitect.aws/snowball - {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Import/Export Snowball\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Import/Export Snowball\"}, com.cognitect.aws/sns {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Simple Notification Service\"}, com.cognitect.aws/sqs {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Simple Queue Service\"}, com.cognitect.aws/ssm - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Simple Systems Manager (SSM)\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Simple Systems Manager (SSM)\"}, com.cognitect.aws/ssm-contacts {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Systems Manager Incident Manager Contacts\"}, com.cognitect.aws/ssm-incidents - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Systems Manager Incident Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Systems Manager Incident Manager\"}, com.cognitect.aws/sso {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Single Sign-On\"}, com.cognitect.aws/sso-admin {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Single Sign-On Admin\"}, - com.cognitect.aws/sso-oidc {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS SSO OIDC\"}, + com.cognitect.aws/sso-oidc {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS SSO OIDC\"}, com.cognitect.aws/states {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Step Functions\"}, com.cognitect.aws/storagegateway {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"AWS Storage Gateway\"}, @@ -537,25 +543,25 @@ com.cognitect.aws/transcribe {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon Transcribe Service\"}, com.cognitect.aws/transfer - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Transfer Family\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Transfer Family\"}, com.cognitect.aws/translate - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon Translate\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Translate\"}, com.cognitect.aws/voice-id {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Voice ID\"}, com.cognitect.aws/waf {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS WAF\"}, com.cognitect.aws/waf-regional {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS WAF Regional\"}, - com.cognitect.aws/wafv2 {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS WAFV2\"}, + com.cognitect.aws/wafv2 {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS WAFV2\"}, com.cognitect.aws/wellarchitected {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Well-Architected Tool\"}, com.cognitect.aws/wisdom - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Connect Wisdom Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Connect Wisdom Service\"}, com.cognitect.aws/workdocs {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon WorkDocs\"}, com.cognitect.aws/worklink {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"Amazon WorkLink\"}, - com.cognitect.aws/workmail {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon WorkMail\"}, + com.cognitect.aws/workmail {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon WorkMail\"}, com.cognitect.aws/workmailmessageflow {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon WorkMail Message Flow\"}, com.cognitect.aws/workspaces - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon WorkSpaces\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon WorkSpaces\"}, com.cognitect.aws/workspaces-web {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon WorkSpaces Web\"}, com.cognitect.aws/xray {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS X-Ray\"}} diff --git a/src/cognitect/aws/client/api.clj b/src/cognitect/aws/client/api.clj index 25921cf..afcd227 100644 --- a/src/cognitect/aws/client/api.clj +++ b/src/cognitect/aws/client/api.clj @@ -41,11 +41,11 @@ :hostname - string :port - int :path - string - If the hostname includes an AWS region, be sure use the same + If the hostname includes an AWS region, be sure to use the same region for the client (either via out of process configuration or the :region key supplied to this fn). Also supports a string representing just the hostname, though - support for a string is deprectated and may be removed in the + support for a string is deprecated and may be removed in the future. :retriable? - optional, predicate fn of http-response (see cognitect.aws.http/submit), which should return a truthy value if the request is ", "completion": "Whitespace "}
{"prompt": "diff --git a/CHANGES.md b/CHANGES.md index 58ef1a5..027a175 100644 --- a/CHANGES.md +++ b/CHANGES.md @@ -1,6 +1,6 @@ # aws-api -## DEV +## 0.8.603 / 2022-10-11 CHANGES.md LICENSE README.md UPGRADE.md VERSION_PREFIX build deps.edn dev doc examples latest-releases.edn pom.xml resources src test parse XML error messages from AWS even when we ask for JSON [#174](https://github.com/cognitect-labs/aws-api/issues/174) diff --git a/README.md b/README.md index 6e6824e..8953de8 100644 --- a/README.md +++ b/README.md @@ -73,8 +73,8 @@ of your choice, e.g. `com.cognitect.aws/s3`. To use, for example, the s3 api, add the following to deps.edn ``` clojure -{:deps {com.cognitect.aws/api {:mvn/version \"0.8.596\"} - com.cognitect.aws/endpoints {:mvn/version \"1.1.12.307\"} +{:deps {com.cognitect.aws/api {:mvn/version \"0.8.603\"} + com.cognitect.aws/endpoints {:mvn/version \"1.1.12.321\"} com.cognitect.aws/s3 {:mvn/version \"822.2.1145.0\"}}} ``` @@ -204,11 +204,16 @@ and before it checks your aws configuration. ## Endpoint Override -Most of the time you can create a client and it figures out the correct endpoint for you, -but there are exceptions. You may want to use a proxy server or connect to a local dynamodb, -or perhaps you've found a bug that you could work around if you could supply the correct -endpoint. All of this can be accomplished by supplying an `:endpoint-override` map -to the `client` constructor: +Most of the time you can create a client and it figures out the correct endpoint for you. The +endpoints of most AWS API operations adhere to the pattern documented in [AWS Regions and +Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html). But there are exceptions. + +* Some AWS APIs have operations which require custom endpoints (e.g. Kinesis Video [GetMedia](https://docs.aws.amazon.com/kinesisvideostreams/latest/dg/API_dataplane_GetMedia.html)). +* You may want to use a proxy server or connect to a local dynamodb. +* Perhaps you've found a bug that you could work around if you could supply the correct endpoint. + +All of this can be accomplished by supplying an `:endpoint-override` map to the `client` +constructor: ``` clojure (def ddb (aws/client {:api :dynamodb @@ -268,7 +273,7 @@ folks from Cognitect and Nubank who either committed code directly, or contributed significantly to research and design: [Timothy Baldridge](https://github.com/halgari)<br/> -[Scott Bale](https://github.com/scottbale) +[Scott Bale](https://github.com/scottbale)<br/> [David Chelimsky](https://github.com/dchelimsky)<br/> [Maria Clara Crespo](https://github.com/mariaclaracrespo)<br/> [Benoît Fleury](https://github.com/benfle)<br/> @@ -367,7 +372,7 @@ function bound to the `:backoff` key when you create a client. :backoff (fn [n-tries-so-far] ,,)}) ``` -Don't forget to account for termination by retuning nil after some number of retries. +Don't forget to account for termination by returning nil after some number of retries. You an also use `cognitect.aws.retry/capped-exponential-backoff` to generate a function with different values for base, max-backoff, and @@ -378,7 +383,7 @@ max-retries, and then pass that to `client`. This indicates that the configured endpoint is incorrect for the service/op you are trying to perform. -Remedy: check [AWS Regions and Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html) +Remedy: check [AWS Regions and Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html) for the proper endpoint and use the `:endpoint-override` key when creating a client, e.g. @@ -388,6 +393,27 @@ e.g. :endpoint-override {:hostname (str my-account-id \".s3-control.us-east-1.amazonaws.com\")}}) ``` +### UnknownOperationException + +AWS will return an `UnknownOperationException` response when a client is configured with (or defaults to) an incorrect endpoint. + +Remedy: check [AWS Regions and Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html) for +the proper endpoint and use the `:endpoint-override` key when creating a client. + +Note that some AWS APIs have custom endpoint requirements. For example, Kinesis Video [Get +Media](https://docs.aws.amazon.com/kinesisvideostreams/latest/dg/API_dataplane_GetMedia.html) +operation requires a custom endpoint, e.g. + +``` clojure +(def kvs (aws/client {:api :kinesisvideo ... })) + +(def kvs-endpoint (:DataEndpoint (aws/invoke kvs {:op :GetDataEndpoint ... }))) + +(aws/client {:api :kinesis-video-media + :region \"us-east-1\" + :endpoint-override {:hostname (str/replace kvs-endpoint #\"https://\" \"\")}}) +``` + ### No known endpoint. This indicates that the data in the `com.cognitect.aws/endpoints` lib diff --git a/deps.edn b/deps.edn index 11b874f..1339b33 100644 --- a/deps.edn +++ b/deps.edn @@ -17,7 +17,7 @@ http-kit/http-kit {:mvn/version \"2.6.0\"} com.cognitect.aws/endpoints {:mvn/version \"1.1.12.280\"} com.cognitect.aws/s3 {:mvn/version \"822.2.1145.0\"}}} - :test {:extra-deps {io.github.cognitect-labs/test-runner {:git/tag \"v0.5.0\" :git/sha \"b3fd0d2\"}} + :test {:extra-deps {io.github.cognitect-labs/test-runner {:git/tag \"v0.5.1\" :git/sha \"dfb30dd\"}} :main-opts [\"-m\" \"cognitect.test-runner\"]} :examples {:extra-paths [\"examples\" \"examples/resources\" \"dev/resources\"] :extra-deps {com.cognitect.aws/dynamodb {:mvn/version \"822.2.1171.0\"} diff --git a/examples/README.md b/examples/README.md index 6a5c499..0ccaaa6 100644 --- a/examples/README.md +++ b/examples/README.md @@ -5,7 +5,7 @@ clone this repo and start a repl in your preferred environment using the deps.edn in the project root, e.g. ``` -clj -A:examples +clj -A:dev:examples ``` Then you can open any of the xxx_examples.clj files and start evaluating forms. diff --git a/examples/deps.edn b/examples/deps.edn deleted file mode 100644 index 623dd86..0000000 --- a/examples/deps.edn +++ /dev/null @@ -1,10 +0,0 @@ -{:deps {com.cognitect.aws/api {:mvn/version \"0.8.391\" - :exclusions [org.slf4j/slf4j-log4j12]} - com.cognitect.aws/dynamodb {:mvn/version \"746.2.533.0\"} - com.cognitect.aws/ec2 {:mvn/version \"759.2.556.0\"} - com.cognitect.aws/endpoints {:mvn/version \"1.1.11.664\"} - com.cognitect.aws/logs {:mvn/version \"747.2.533.0\"} - com.cognitect.aws/autoscaling {:mvn/version \"770.2.568.0\"} - com.cognitect.aws/cloudformation {:mvn/version \"746.2.533.0\"} - com.cognitect.aws/s3 {:mvn/version \"762.2.558.0\"} - com.cognitect.aws/resourcegroupstaggingapi {:mvn/version \"747.2.533.0\"}}} diff --git a/latest-releases.edn b/latest-releases.edn index 0b9307f..264297c 100644 --- a/latest-releases.edn +++ b/latest-releases.edn @@ -1,5 +1,5 @@ -{com.cognitect.aws/api {:mvn/version \"0.8.596\"}, - com.cognitect.aws/endpoints {:mvn/version \"1.1.12.307\"}, +{com.cognitect.aws/api {:mvn/version \"0.8.603\"}, + com.cognitect.aws/endpoints {:mvn/version \"1.1.12.321\"}, com.cognitect.aws/AWS242AppRegistry {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Service Catalog App Registry\"}, com.cognitect.aws/AWSApplicationCostProfiler @@ -7,10 +7,10 @@ com.cognitect.aws/AWSMigrationHub {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Migration Hub\"}, com.cognitect.aws/accessanalyzer - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Access Analyzer\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Access Analyzer\"}, com.cognitect.aws/account {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Account\"}, com.cognitect.aws/acm - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Certificate Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Certificate Manager\"}, com.cognitect.aws/acm-pca {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Certificate Manager Private Certificate Authority\"}, @@ -22,7 +22,7 @@ com.cognitect.aws/amplifybackend {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AmplifyBackend\"}, com.cognitect.aws/amplifyuibuilder - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Amplify UI Builder\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Amplify UI Builder\"}, com.cognitect.aws/apigateway {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon API Gateway\"}, com.cognitect.aws/apigatewaymanagementapi @@ -33,7 +33,7 @@ {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon AppConfig\"}, com.cognitect.aws/appconfigdata {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS AppConfig Data\"}, - com.cognitect.aws/appflow {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Appflow\"}, + com.cognitect.aws/appflow {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Appflow\"}, com.cognitect.aws/appintegrations {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon AppIntegrations Service\"}, com.cognitect.aws/application-autoscaling @@ -41,7 +41,7 @@ com.cognitect.aws/application-insights {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon CloudWatch Application Insights\"}, com.cognitect.aws/appmesh {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS App Mesh\"}, - com.cognitect.aws/apprunner {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS App Runner\"}, + com.cognitect.aws/apprunner {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS App Runner\"}, com.cognitect.aws/appstream {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon AppStream\"}, com.cognitect.aws/appsync {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS AppSync\"}, @@ -53,7 +53,7 @@ {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Auto Scaling Plans\"}, com.cognitect.aws/backup {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Backup\"}, com.cognitect.aws/backup-gateway - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Backup Gateway\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Backup Gateway\"}, com.cognitect.aws/backupstorage {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Backup Storage\"}, com.cognitect.aws/batch {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Batch\"}, @@ -62,7 +62,7 @@ com.cognitect.aws/braket {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Braket\"}, com.cognitect.aws/budgets {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Budgets\"}, com.cognitect.aws/ce - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Cost Explorer Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Cost Explorer Service\"}, com.cognitect.aws/chime {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Chime\"}, com.cognitect.aws/chime-sdk-identity {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Chime SDK Identity\"}, @@ -92,9 +92,9 @@ com.cognitect.aws/codeartifact {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"CodeArtifact\"}, com.cognitect.aws/codebuild {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS CodeBuild\"}, com.cognitect.aws/codecommit {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS CodeCommit\"}, - com.cognitect.aws/codedeploy {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS CodeDeploy\"}, + com.cognitect.aws/codedeploy {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS CodeDeploy\"}, com.cognitect.aws/codeguru-reviewer - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon CodeGuru Reviewer\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon CodeGuru Reviewer\"}, com.cognitect.aws/codeguruprofiler {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon CodeGuru Profiler\"}, com.cognitect.aws/codepipeline @@ -111,24 +111,26 @@ com.cognitect.aws/cognito-sync {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Cognito Sync\"}, com.cognitect.aws/comprehend - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Comprehend\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Comprehend\"}, com.cognitect.aws/comprehendmedical {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Comprehend Medical\"}, com.cognitect.aws/compute-optimizer {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Compute Optimizer\"}, com.cognitect.aws/config {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Config\"}, com.cognitect.aws/connect - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Connect Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Connect Service\"}, com.cognitect.aws/connect-contact-lens {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Connect Contact Lens\"}, com.cognitect.aws/connectcampaigns {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AmazonConnectCampaignService\"}, + com.cognitect.aws/connectcases + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Connect Cases\"}, com.cognitect.aws/connectparticipant {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Connect Participant Service\"}, com.cognitect.aws/controltower {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Control Tower\"}, com.cognitect.aws/cur - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Cost and Usage Report Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Cost and Usage Report Service\"}, com.cognitect.aws/customer-profiles {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Connect Customer Profiles\"}, com.cognitect.aws/databrew @@ -143,17 +145,17 @@ com.cognitect.aws/detective {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Detective\"}, com.cognitect.aws/devicefarm - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Device Farm\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Device Farm\"}, com.cognitect.aws/devices {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS IoT 1-Click Devices Service\"}, com.cognitect.aws/devops-guru - {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon DevOps Guru\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon DevOps Guru\"}, com.cognitect.aws/directconnect {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Direct Connect\"}, com.cognitect.aws/discovery {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Application Discovery Service\"}, com.cognitect.aws/dlm - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Data Lifecycle Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Data Lifecycle Manager\"}, com.cognitect.aws/dms {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Database Migration Service\"}, com.cognitect.aws/docdb @@ -161,12 +163,12 @@ :aws/serviceFullName \"Amazon DocumentDB with MongoDB compatibility\"}, com.cognitect.aws/drs {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Elastic Disaster Recovery Service\"}, - com.cognitect.aws/ds {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Directory Service\"}, + com.cognitect.aws/ds {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Directory Service\"}, com.cognitect.aws/dynamodb {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon DynamoDB\"}, com.cognitect.aws/ebs {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Elastic Block Store\"}, com.cognitect.aws/ec2 - {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon Elastic Compute Cloud\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Elastic Compute Cloud\"}, com.cognitect.aws/ec2-instance-connect {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS EC2 Instance Connect\"}, com.cognitect.aws/ecr @@ -174,7 +176,7 @@ com.cognitect.aws/ecr-public {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Elastic Container Registry Public\"}, com.cognitect.aws/ecs - {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon EC2 Container Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon EC2 Container Service\"}, com.cognitect.aws/eks {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Elastic Kubernetes Service\"}, com.cognitect.aws/elastic-inference @@ -188,7 +190,7 @@ com.cognitect.aws/elasticloadbalancing {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Elastic Load Balancing\"}, com.cognitect.aws/elasticloadbalancingv2 - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Elastic Load Balancing\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Elastic Load Balancing\"}, com.cognitect.aws/elasticmapreduce {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon EMR\"}, com.cognitect.aws/elastictranscoder @@ -198,7 +200,7 @@ com.cognitect.aws/emr-containers {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon EMR Containers\"}, com.cognitect.aws/emr-serverless - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"EMR Serverless\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"EMR Serverless\"}, com.cognitect.aws/entitlement-marketplace {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Marketplace Entitlement Service\"}, com.cognitect.aws/es @@ -223,22 +225,22 @@ {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Forecast Query Service\"}, com.cognitect.aws/frauddetector {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon Fraud Detector\"}, - com.cognitect.aws/fsx {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon FSx\"}, + com.cognitect.aws/fsx {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon FSx\"}, com.cognitect.aws/gamelift {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon GameLift\"}, com.cognitect.aws/gamesparks {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"GameSparks\"}, com.cognitect.aws/glacier {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Glacier\"}, com.cognitect.aws/globalaccelerator {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Global Accelerator\"}, - com.cognitect.aws/glue {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Glue\"}, + com.cognitect.aws/glue {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Glue\"}, com.cognitect.aws/grafana {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Managed Grafana\"}, com.cognitect.aws/greengrass {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Greengrass\"}, com.cognitect.aws/greengrassv2 - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS IoT Greengrass V2\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS IoT Greengrass V2\"}, com.cognitect.aws/groundstation {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Ground Station\"}, com.cognitect.aws/guardduty - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon GuardDuty\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon GuardDuty\"}, com.cognitect.aws/health {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Health APIs and Notifications\"}, com.cognitect.aws/healthlake @@ -246,9 +248,9 @@ com.cognitect.aws/honeycode {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Honeycode\"}, com.cognitect.aws/iam - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Identity and Access Management\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Identity and Access Management\"}, com.cognitect.aws/identitystore - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS SSO Identity Store\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS SSO Identity Store\"}, com.cognitect.aws/imagebuilder {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"EC2 Image Builder\"}, com.cognitect.aws/importexport @@ -272,6 +274,8 @@ {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS IoT Events Data\"}, com.cognitect.aws/iotfleethub {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS IoT Fleet Hub\"}, + com.cognitect.aws/iotfleetwise + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS IoT FleetWise\"}, com.cognitect.aws/iotsecuretunneling {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS IoT Secure Tunneling\"}, com.cognitect.aws/iotsitewise @@ -291,7 +295,7 @@ com.cognitect.aws/kafkaconnect {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Managed Streaming for Kafka Connect\"}, com.cognitect.aws/kendra - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWSKendraFrontendService\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWSKendraFrontendService\"}, com.cognitect.aws/keyspaces {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Keyspaces\"}, com.cognitect.aws/kinesis {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Kinesis\"}, @@ -319,9 +323,9 @@ com.cognitect.aws/license-manager-user-subscriptions {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS License Manager User Subscriptions\"}, com.cognitect.aws/lightsail - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Lightsail\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Lightsail\"}, com.cognitect.aws/location - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Location Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Location Service\"}, com.cognitect.aws/logs {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon CloudWatch Logs\"}, com.cognitect.aws/lookoutequipment @@ -345,13 +349,13 @@ com.cognitect.aws/mediaconnect {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"AWS MediaConnect\"}, com.cognitect.aws/mediaconvert - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Elemental MediaConvert\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Elemental MediaConvert\"}, com.cognitect.aws/medialive - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Elemental MediaLive\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Elemental MediaLive\"}, com.cognitect.aws/mediapackage {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Elemental MediaPackage\"}, com.cognitect.aws/mediapackage-vod - {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"AWS Elemental MediaPackage VOD\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Elemental MediaPackage VOD\"}, com.cognitect.aws/mediastore {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Elemental MediaStore\"}, com.cognitect.aws/mediastore-data @@ -367,13 +371,15 @@ {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Migration Hub Refactor Spaces\"}, com.cognitect.aws/migrationhub-config {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Migration Hub Config\"}, + com.cognitect.aws/migrationhuborchestrator + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Migration Hub Orchestrator\"}, com.cognitect.aws/migrationhubstrategy {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Migration Hub Strategy Recommendations\"}, com.cognitect.aws/mobile {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Mobile\"}, com.cognitect.aws/mobileanalytics {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Mobile Analytics\"}, com.cognitect.aws/models-lex-v2 - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Lex Model Building V2\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Lex Model Building V2\"}, com.cognitect.aws/monitoring {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon CloudWatch\"}, com.cognitect.aws/mq {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"AmazonMQ\"}, @@ -382,10 +388,10 @@ com.cognitect.aws/mwaa {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AmazonMWAA\"}, com.cognitect.aws/neptune {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon Neptune\"}, com.cognitect.aws/network-firewall - {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Network Firewall\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Network Firewall\"}, com.cognitect.aws/networkmanager {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Network Manager\"}, - com.cognitect.aws/nimble {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AmazonNimbleStudio\"}, + com.cognitect.aws/nimble {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AmazonNimbleStudio\"}, com.cognitect.aws/opensearch {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon OpenSearch Service\"}, com.cognitect.aws/opsworks {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS OpsWorks\"}, @@ -393,8 +399,8 @@ {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS OpsWorks CM\"}, com.cognitect.aws/organizations {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Organizations\"}, - com.cognitect.aws/outposts {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Outposts\"}, - com.cognitect.aws/panorama {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Panorama\"}, + com.cognitect.aws/outposts {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Outposts\"}, + com.cognitect.aws/panorama {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Panorama\"}, com.cognitect.aws/personalize {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Personalize\"}, com.cognitect.aws/personalize-events @@ -410,24 +416,24 @@ {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Pinpoint SMS and Voice Service\"}, com.cognitect.aws/pinpoint-sms-voice-v2 {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Pinpoint SMS Voice V2\"}, - com.cognitect.aws/polly {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Polly\"}, + com.cognitect.aws/polly {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Polly\"}, com.cognitect.aws/pricing {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Price List Service\"}, com.cognitect.aws/privatenetworks {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Private 5G\"}, - com.cognitect.aws/proton {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Proton\"}, + com.cognitect.aws/proton {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Proton\"}, com.cognitect.aws/qldb {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon QLDB\"}, com.cognitect.aws/qldb-session {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon QLDB Session\"}, com.cognitect.aws/quicksight - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon QuickSight\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon QuickSight\"}, com.cognitect.aws/ram {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Resource Access Manager\"}, com.cognitect.aws/rbin {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Recycle Bin\"}, com.cognitect.aws/rds {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon Relational Database Service\"}, com.cognitect.aws/rds-data - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS RDS DataService\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS RDS DataService\"}, com.cognitect.aws/redshift {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Redshift\"}, com.cognitect.aws/redshift-data {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Redshift Data API Service\"}, @@ -436,7 +442,7 @@ com.cognitect.aws/rekognition {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Rekognition\"}, com.cognitect.aws/resiliencehub - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Resilience Hub\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Resilience Hub\"}, com.cognitect.aws/resource-groups {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Resource Groups\"}, com.cognitect.aws/resourcegroupstaggingapi @@ -461,14 +467,14 @@ com.cognitect.aws/runtime-lex-v2 {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Lex Runtime V2\"}, com.cognitect.aws/runtime-sagemaker - {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon SageMaker Runtime\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon SageMaker Runtime\"}, com.cognitect.aws/s3 {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Simple Storage Service\"}, - com.cognitect.aws/s3control {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS S3 Control\"}, + com.cognitect.aws/s3control {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS S3 Control\"}, com.cognitect.aws/s3outposts {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon S3 on Outposts\"}, com.cognitect.aws/sagemaker - {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon SageMaker Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon SageMaker Service\"}, com.cognitect.aws/sagemaker-a2i-runtime {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Augmented AI Runtime\"}, com.cognitect.aws/sagemaker-edge @@ -480,7 +486,7 @@ com.cognitect.aws/schemas {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Schemas\"}, com.cognitect.aws/sdb {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon SimpleDB\"}, com.cognitect.aws/secretsmanager - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Secrets Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Secrets Manager\"}, com.cognitect.aws/securityhub {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS SecurityHub\"}, com.cognitect.aws/serverlessrepo @@ -500,22 +506,22 @@ com.cognitect.aws/snow-device-management {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Snow Device Management\"}, com.cognitect.aws/snowball - {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Import/Export Snowball\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Import/Export Snowball\"}, com.cognitect.aws/sns {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Simple Notification Service\"}, com.cognitect.aws/sqs {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Simple Queue Service\"}, com.cognitect.aws/ssm - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Simple Systems Manager (SSM)\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Simple Systems Manager (SSM)\"}, com.cognitect.aws/ssm-contacts {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Systems Manager Incident Manager Contacts\"}, com.cognitect.aws/ssm-incidents - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Systems Manager Incident Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Systems Manager Incident Manager\"}, com.cognitect.aws/sso {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Single Sign-On\"}, com.cognitect.aws/sso-admin {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Single Sign-On Admin\"}, - com.cognitect.aws/sso-oidc {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS SSO OIDC\"}, + com.cognitect.aws/sso-oidc {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS SSO OIDC\"}, com.cognitect.aws/states {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Step Functions\"}, com.cognitect.aws/storagegateway {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"AWS Storage Gateway\"}, @@ -537,25 +543,25 @@ com.cognitect.aws/transcribe {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon Transcribe Service\"}, com.cognitect.aws/transfer - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Transfer Family\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Transfer Family\"}, com.cognitect.aws/translate - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon Translate\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Translate\"}, com.cognitect.aws/voice-id {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Voice ID\"}, com.cognitect.aws/waf {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS WAF\"}, com.cognitect.aws/waf-regional {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS WAF Regional\"}, - com.cognitect.aws/wafv2 {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS WAFV2\"}, + com.cognitect.aws/wafv2 {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS WAFV2\"}, com.cognitect.aws/wellarchitected {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Well-Architected Tool\"}, com.cognitect.aws/wisdom - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Connect Wisdom Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Connect Wisdom Service\"}, com.cognitect.aws/workdocs {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon WorkDocs\"}, com.cognitect.aws/worklink {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"Amazon WorkLink\"}, - com.cognitect.aws/workmail {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon WorkMail\"}, + com.cognitect.aws/workmail {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon WorkMail\"}, com.cognitect.aws/workmailmessageflow {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon WorkMail Message Flow\"}, com.cognitect.aws/workspaces - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon WorkSpaces\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon WorkSpaces\"}, com.cognitect.aws/workspaces-web {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon WorkSpaces Web\"}, com.cognitect.aws/xray {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS X-Ray\"}} diff --git a/src/cognitect/aws/client/api.clj b/src/cognitect/aws/client/api.clj index 25921cf..afcd227 100644 --- a/src/cognitect/aws/client/api.clj +++ b/src/cognitect/aws/client/api.clj @@ -41,11 +41,11 @@ :hostname - string :port - int :path - string - If the hostname includes an AWS region, be sure use the same + If the hostname includes an AWS region, be sure to use the same region for the client (either via out of process configuration or the :region key supplied to this fn). Also supports a string representing just the hostname, though - support for a string is deprectated and may be removed in the + support for a string is deprecated and may be removed in the future. :retriable? - optional, predicate fn of http-response (see cognitect.aws.http/submit), which should return a truthy value if the request is ", "completion": "README and CHANGELOG "}
{"prompt": "diff --git a/CHANGES.md b/CHANGES.md index bd93dad..027a175 100644 --- a/CHANGES.md +++ b/CHANGES.md @@ -1,5 +1,9 @@ # aws-api +## 0.8.603 / 2022-10-11 + +* parse XML error messages from AWS even when we ask for JSON [#174](https://github.com/cognitect-labs/aws-api/issues/174) + ## 0.8.596 / 2022-09-16 CHANGES.md LICENSE README.md UPGRADE.md VERSION_PREFIX build deps.edn dev doc examples latest-releases.edn pom.xml resources src test upgrade to org.clojure/data.xml 0.2.0-alpha8. Fixes parsing issue [#205](https://github.com/cognitect-labs/aws-api/issues/205) diff --git a/README.md b/README.md index f1f09d9..8953de8 100644 --- a/README.md +++ b/README.md @@ -73,8 +73,8 @@ of your choice, e.g. `com.cognitect.aws/s3`. To use, for example, the s3 api, add the following to deps.edn ``` clojure -{:deps {com.cognitect.aws/api {:mvn/version \"0.8.596\"} - com.cognitect.aws/endpoints {:mvn/version \"1.1.12.307\"} +{:deps {com.cognitect.aws/api {:mvn/version \"0.8.603\"} + com.cognitect.aws/endpoints {:mvn/version \"1.1.12.321\"} com.cognitect.aws/s3 {:mvn/version \"822.2.1145.0\"}}} ``` @@ -204,11 +204,16 @@ and before it checks your aws configuration. ## Endpoint Override -Most of the time you can create a client and it figures out the correct endpoint for you, -but there are exceptions. You may want to use a proxy server or connect to a local dynamodb, -or perhaps you've found a bug that you could work around if you could supply the correct -endpoint. All of this can be accomplished by supplying an `:endpoint-override` map -to the `client` constructor: +Most of the time you can create a client and it figures out the correct endpoint for you. The +endpoints of most AWS API operations adhere to the pattern documented in [AWS Regions and +Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html). But there are exceptions. + +* Some AWS APIs have operations which require custom endpoints (e.g. Kinesis Video [GetMedia](https://docs.aws.amazon.com/kinesisvideostreams/latest/dg/API_dataplane_GetMedia.html)). +* You may want to use a proxy server or connect to a local dynamodb. +* Perhaps you've found a bug that you could work around if you could supply the correct endpoint. + +All of this can be accomplished by supplying an `:endpoint-override` map to the `client` +constructor: ``` clojure (def ddb (aws/client {:api :dynamodb @@ -264,11 +269,13 @@ patches. `aws-api` was extracted from an internal project at Cognitect, and some contributors are missing from the commit log. Here are all the -folks from Cognitect who either committed code directly, or +folks from Cognitect and Nubank who either committed code directly, or contributed significantly to research and design: [Timothy Baldridge](https://github.com/halgari)<br/> +[Scott Bale](https://github.com/scottbale)<br/> [David Chelimsky](https://github.com/dchelimsky)<br/> +[Maria Clara Crespo](https://github.com/mariaclaracrespo)<br/> [Benoît Fleury](https://github.com/benfle)<br/> [Fogus](https://github.com/fogus)<br/> [Stuart Halloway](https://github.com/stuarthalloway)<br/> @@ -365,7 +372,7 @@ function bound to the `:backoff` key when you create a client. :backoff (fn [n-tries-so-far] ,,)}) ``` -Don't forget to account for termination by retuning nil after some number of retries. +Don't forget to account for termination by returning nil after some number of retries. You an also use `cognitect.aws.retry/capped-exponential-backoff` to generate a function with different values for base, max-backoff, and @@ -376,7 +383,7 @@ max-retries, and then pass that to `client`. This indicates that the configured endpoint is incorrect for the service/op you are trying to perform. -Remedy: check [AWS Regions and Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html) +Remedy: check [AWS Regions and Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html) for the proper endpoint and use the `:endpoint-override` key when creating a client, e.g. @@ -386,6 +393,27 @@ e.g. :endpoint-override {:hostname (str my-account-id \".s3-control.us-east-1.amazonaws.com\")}}) ``` +### UnknownOperationException + +AWS will return an `UnknownOperationException` response when a client is configured with (or defaults to) an incorrect endpoint. + +Remedy: check [AWS Regions and Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html) for +the proper endpoint and use the `:endpoint-override` key when creating a client. + +Note that some AWS APIs have custom endpoint requirements. For example, Kinesis Video [Get +Media](https://docs.aws.amazon.com/kinesisvideostreams/latest/dg/API_dataplane_GetMedia.html) +operation requires a custom endpoint, e.g. + +``` clojure +(def kvs (aws/client {:api :kinesisvideo ... })) + +(def kvs-endpoint (:DataEndpoint (aws/invoke kvs {:op :GetDataEndpoint ... }))) + +(aws/client {:api :kinesis-video-media + :region \"us-east-1\" + :endpoint-override {:hostname (str/replace kvs-endpoint #\"https://\" \"\")}}) +``` + ### No known endpoint. This indicates that the data in the `com.cognitect.aws/endpoints` lib diff --git a/deps.edn b/deps.edn index 11b874f..1339b33 100644 --- a/deps.edn +++ b/deps.edn @@ -17,7 +17,7 @@ http-kit/http-kit {:mvn/version \"2.6.0\"} com.cognitect.aws/endpoints {:mvn/version \"1.1.12.280\"} com.cognitect.aws/s3 {:mvn/version \"822.2.1145.0\"}}} - :test {:extra-deps {io.github.cognitect-labs/test-runner {:git/tag \"v0.5.0\" :git/sha \"b3fd0d2\"}} + :test {:extra-deps {io.github.cognitect-labs/test-runner {:git/tag \"v0.5.1\" :git/sha \"dfb30dd\"}} :main-opts [\"-m\" \"cognitect.test-runner\"]} :examples {:extra-paths [\"examples\" \"examples/resources\" \"dev/resources\"] :extra-deps {com.cognitect.aws/dynamodb {:mvn/version \"822.2.1171.0\"} diff --git a/examples/README.md b/examples/README.md index 6a5c499..0ccaaa6 100644 --- a/examples/README.md +++ b/examples/README.md @@ -5,7 +5,7 @@ clone this repo and start a repl in your preferred environment using the deps.edn in the project root, e.g. ``` -clj -A:examples +clj -A:dev:examples ``` Then you can open any of the xxx_examples.clj files and start evaluating forms. diff --git a/examples/deps.edn b/examples/deps.edn deleted file mode 100644 index 623dd86..0000000 --- a/examples/deps.edn +++ /dev/null @@ -1,10 +0,0 @@ -{:deps {com.cognitect.aws/api {:mvn/version \"0.8.391\" - :exclusions [org.slf4j/slf4j-log4j12]} - com.cognitect.aws/dynamodb {:mvn/version \"746.2.533.0\"} - com.cognitect.aws/ec2 {:mvn/version \"759.2.556.0\"} - com.cognitect.aws/endpoints {:mvn/version \"1.1.11.664\"} - com.cognitect.aws/logs {:mvn/version \"747.2.533.0\"} - com.cognitect.aws/autoscaling {:mvn/version \"770.2.568.0\"} - com.cognitect.aws/cloudformation {:mvn/version \"746.2.533.0\"} - com.cognitect.aws/s3 {:mvn/version \"762.2.558.0\"} - com.cognitect.aws/resourcegroupstaggingapi {:mvn/version \"747.2.533.0\"}}} diff --git a/latest-releases.edn b/latest-releases.edn index 0b9307f..264297c 100644 --- a/latest-releases.edn +++ b/latest-releases.edn @@ -1,5 +1,5 @@ -{com.cognitect.aws/api {:mvn/version \"0.8.596\"}, - com.cognitect.aws/endpoints {:mvn/version \"1.1.12.307\"}, +{com.cognitect.aws/api {:mvn/version \"0.8.603\"}, + com.cognitect.aws/endpoints {:mvn/version \"1.1.12.321\"}, com.cognitect.aws/AWS242AppRegistry {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Service Catalog App Registry\"}, com.cognitect.aws/AWSApplicationCostProfiler @@ -7,10 +7,10 @@ com.cognitect.aws/AWSMigrationHub {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Migration Hub\"}, com.cognitect.aws/accessanalyzer - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Access Analyzer\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Access Analyzer\"}, com.cognitect.aws/account {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Account\"}, com.cognitect.aws/acm - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Certificate Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Certificate Manager\"}, com.cognitect.aws/acm-pca {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Certificate Manager Private Certificate Authority\"}, @@ -22,7 +22,7 @@ com.cognitect.aws/amplifybackend {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AmplifyBackend\"}, com.cognitect.aws/amplifyuibuilder - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Amplify UI Builder\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Amplify UI Builder\"}, com.cognitect.aws/apigateway {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon API Gateway\"}, com.cognitect.aws/apigatewaymanagementapi @@ -33,7 +33,7 @@ {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon AppConfig\"}, com.cognitect.aws/appconfigdata {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS AppConfig Data\"}, - com.cognitect.aws/appflow {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Appflow\"}, + com.cognitect.aws/appflow {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Appflow\"}, com.cognitect.aws/appintegrations {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon AppIntegrations Service\"}, com.cognitect.aws/application-autoscaling @@ -41,7 +41,7 @@ com.cognitect.aws/application-insights {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon CloudWatch Application Insights\"}, com.cognitect.aws/appmesh {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS App Mesh\"}, - com.cognitect.aws/apprunner {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS App Runner\"}, + com.cognitect.aws/apprunner {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS App Runner\"}, com.cognitect.aws/appstream {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon AppStream\"}, com.cognitect.aws/appsync {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS AppSync\"}, @@ -53,7 +53,7 @@ {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Auto Scaling Plans\"}, com.cognitect.aws/backup {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Backup\"}, com.cognitect.aws/backup-gateway - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Backup Gateway\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Backup Gateway\"}, com.cognitect.aws/backupstorage {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Backup Storage\"}, com.cognitect.aws/batch {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Batch\"}, @@ -62,7 +62,7 @@ com.cognitect.aws/braket {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Braket\"}, com.cognitect.aws/budgets {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Budgets\"}, com.cognitect.aws/ce - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Cost Explorer Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Cost Explorer Service\"}, com.cognitect.aws/chime {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Chime\"}, com.cognitect.aws/chime-sdk-identity {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Chime SDK Identity\"}, @@ -92,9 +92,9 @@ com.cognitect.aws/codeartifact {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"CodeArtifact\"}, com.cognitect.aws/codebuild {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS CodeBuild\"}, com.cognitect.aws/codecommit {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS CodeCommit\"}, - com.cognitect.aws/codedeploy {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS CodeDeploy\"}, + com.cognitect.aws/codedeploy {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS CodeDeploy\"}, com.cognitect.aws/codeguru-reviewer - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon CodeGuru Reviewer\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon CodeGuru Reviewer\"}, com.cognitect.aws/codeguruprofiler {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon CodeGuru Profiler\"}, com.cognitect.aws/codepipeline @@ -111,24 +111,26 @@ com.cognitect.aws/cognito-sync {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Cognito Sync\"}, com.cognitect.aws/comprehend - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Comprehend\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Comprehend\"}, com.cognitect.aws/comprehendmedical {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Comprehend Medical\"}, com.cognitect.aws/compute-optimizer {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Compute Optimizer\"}, com.cognitect.aws/config {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Config\"}, com.cognitect.aws/connect - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Connect Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Connect Service\"}, com.cognitect.aws/connect-contact-lens {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Connect Contact Lens\"}, com.cognitect.aws/connectcampaigns {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AmazonConnectCampaignService\"}, + com.cognitect.aws/connectcases + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Connect Cases\"}, com.cognitect.aws/connectparticipant {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Connect Participant Service\"}, com.cognitect.aws/controltower {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Control Tower\"}, com.cognitect.aws/cur - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Cost and Usage Report Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Cost and Usage Report Service\"}, com.cognitect.aws/customer-profiles {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Connect Customer Profiles\"}, com.cognitect.aws/databrew @@ -143,17 +145,17 @@ com.cognitect.aws/detective {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Detective\"}, com.cognitect.aws/devicefarm - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Device Farm\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Device Farm\"}, com.cognitect.aws/devices {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS IoT 1-Click Devices Service\"}, com.cognitect.aws/devops-guru - {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon DevOps Guru\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon DevOps Guru\"}, com.cognitect.aws/directconnect {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Direct Connect\"}, com.cognitect.aws/discovery {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Application Discovery Service\"}, com.cognitect.aws/dlm - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Data Lifecycle Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Data Lifecycle Manager\"}, com.cognitect.aws/dms {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Database Migration Service\"}, com.cognitect.aws/docdb @@ -161,12 +163,12 @@ :aws/serviceFullName \"Amazon DocumentDB with MongoDB compatibility\"}, com.cognitect.aws/drs {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Elastic Disaster Recovery Service\"}, - com.cognitect.aws/ds {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Directory Service\"}, + com.cognitect.aws/ds {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Directory Service\"}, com.cognitect.aws/dynamodb {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon DynamoDB\"}, com.cognitect.aws/ebs {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Elastic Block Store\"}, com.cognitect.aws/ec2 - {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon Elastic Compute Cloud\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Elastic Compute Cloud\"}, com.cognitect.aws/ec2-instance-connect {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS EC2 Instance Connect\"}, com.cognitect.aws/ecr @@ -174,7 +176,7 @@ com.cognitect.aws/ecr-public {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Elastic Container Registry Public\"}, com.cognitect.aws/ecs - {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon EC2 Container Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon EC2 Container Service\"}, com.cognitect.aws/eks {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Elastic Kubernetes Service\"}, com.cognitect.aws/elastic-inference @@ -188,7 +190,7 @@ com.cognitect.aws/elasticloadbalancing {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Elastic Load Balancing\"}, com.cognitect.aws/elasticloadbalancingv2 - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Elastic Load Balancing\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Elastic Load Balancing\"}, com.cognitect.aws/elasticmapreduce {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon EMR\"}, com.cognitect.aws/elastictranscoder @@ -198,7 +200,7 @@ com.cognitect.aws/emr-containers {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon EMR Containers\"}, com.cognitect.aws/emr-serverless - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"EMR Serverless\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"EMR Serverless\"}, com.cognitect.aws/entitlement-marketplace {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Marketplace Entitlement Service\"}, com.cognitect.aws/es @@ -223,22 +225,22 @@ {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Forecast Query Service\"}, com.cognitect.aws/frauddetector {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon Fraud Detector\"}, - com.cognitect.aws/fsx {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon FSx\"}, + com.cognitect.aws/fsx {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon FSx\"}, com.cognitect.aws/gamelift {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon GameLift\"}, com.cognitect.aws/gamesparks {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"GameSparks\"}, com.cognitect.aws/glacier {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Glacier\"}, com.cognitect.aws/globalaccelerator {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Global Accelerator\"}, - com.cognitect.aws/glue {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Glue\"}, + com.cognitect.aws/glue {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Glue\"}, com.cognitect.aws/grafana {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Managed Grafana\"}, com.cognitect.aws/greengrass {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Greengrass\"}, com.cognitect.aws/greengrassv2 - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS IoT Greengrass V2\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS IoT Greengrass V2\"}, com.cognitect.aws/groundstation {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Ground Station\"}, com.cognitect.aws/guardduty - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon GuardDuty\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon GuardDuty\"}, com.cognitect.aws/health {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Health APIs and Notifications\"}, com.cognitect.aws/healthlake @@ -246,9 +248,9 @@ com.cognitect.aws/honeycode {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Honeycode\"}, com.cognitect.aws/iam - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Identity and Access Management\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Identity and Access Management\"}, com.cognitect.aws/identitystore - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS SSO Identity Store\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS SSO Identity Store\"}, com.cognitect.aws/imagebuilder {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"EC2 Image Builder\"}, com.cognitect.aws/importexport @@ -272,6 +274,8 @@ {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS IoT Events Data\"}, com.cognitect.aws/iotfleethub {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS IoT Fleet Hub\"}, + com.cognitect.aws/iotfleetwise + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS IoT FleetWise\"}, com.cognitect.aws/iotsecuretunneling {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS IoT Secure Tunneling\"}, com.cognitect.aws/iotsitewise @@ -291,7 +295,7 @@ com.cognitect.aws/kafkaconnect {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Managed Streaming for Kafka Connect\"}, com.cognitect.aws/kendra - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWSKendraFrontendService\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWSKendraFrontendService\"}, com.cognitect.aws/keyspaces {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Keyspaces\"}, com.cognitect.aws/kinesis {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Kinesis\"}, @@ -319,9 +323,9 @@ com.cognitect.aws/license-manager-user-subscriptions {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS License Manager User Subscriptions\"}, com.cognitect.aws/lightsail - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Lightsail\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Lightsail\"}, com.cognitect.aws/location - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Location Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Location Service\"}, com.cognitect.aws/logs {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon CloudWatch Logs\"}, com.cognitect.aws/lookoutequipment @@ -345,13 +349,13 @@ com.cognitect.aws/mediaconnect {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"AWS MediaConnect\"}, com.cognitect.aws/mediaconvert - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Elemental MediaConvert\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Elemental MediaConvert\"}, com.cognitect.aws/medialive - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Elemental MediaLive\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Elemental MediaLive\"}, com.cognitect.aws/mediapackage {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Elemental MediaPackage\"}, com.cognitect.aws/mediapackage-vod - {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"AWS Elemental MediaPackage VOD\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Elemental MediaPackage VOD\"}, com.cognitect.aws/mediastore {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Elemental MediaStore\"}, com.cognitect.aws/mediastore-data @@ -367,13 +371,15 @@ {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Migration Hub Refactor Spaces\"}, com.cognitect.aws/migrationhub-config {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Migration Hub Config\"}, + com.cognitect.aws/migrationhuborchestrator + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Migration Hub Orchestrator\"}, com.cognitect.aws/migrationhubstrategy {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Migration Hub Strategy Recommendations\"}, com.cognitect.aws/mobile {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Mobile\"}, com.cognitect.aws/mobileanalytics {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Mobile Analytics\"}, com.cognitect.aws/models-lex-v2 - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Lex Model Building V2\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Lex Model Building V2\"}, com.cognitect.aws/monitoring {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon CloudWatch\"}, com.cognitect.aws/mq {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"AmazonMQ\"}, @@ -382,10 +388,10 @@ com.cognitect.aws/mwaa {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AmazonMWAA\"}, com.cognitect.aws/neptune {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon Neptune\"}, com.cognitect.aws/network-firewall - {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Network Firewall\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Network Firewall\"}, com.cognitect.aws/networkmanager {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Network Manager\"}, - com.cognitect.aws/nimble {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AmazonNimbleStudio\"}, + com.cognitect.aws/nimble {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AmazonNimbleStudio\"}, com.cognitect.aws/opensearch {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon OpenSearch Service\"}, com.cognitect.aws/opsworks {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS OpsWorks\"}, @@ -393,8 +399,8 @@ {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS OpsWorks CM\"}, com.cognitect.aws/organizations {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Organizations\"}, - com.cognitect.aws/outposts {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Outposts\"}, - com.cognitect.aws/panorama {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Panorama\"}, + com.cognitect.aws/outposts {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Outposts\"}, + com.cognitect.aws/panorama {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Panorama\"}, com.cognitect.aws/personalize {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Personalize\"}, com.cognitect.aws/personalize-events @@ -410,24 +416,24 @@ {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Pinpoint SMS and Voice Service\"}, com.cognitect.aws/pinpoint-sms-voice-v2 {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Pinpoint SMS Voice V2\"}, - com.cognitect.aws/polly {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Polly\"}, + com.cognitect.aws/polly {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Polly\"}, com.cognitect.aws/pricing {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Price List Service\"}, com.cognitect.aws/privatenetworks {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Private 5G\"}, - com.cognitect.aws/proton {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Proton\"}, + com.cognitect.aws/proton {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Proton\"}, com.cognitect.aws/qldb {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon QLDB\"}, com.cognitect.aws/qldb-session {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon QLDB Session\"}, com.cognitect.aws/quicksight - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon QuickSight\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon QuickSight\"}, com.cognitect.aws/ram {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Resource Access Manager\"}, com.cognitect.aws/rbin {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Recycle Bin\"}, com.cognitect.aws/rds {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon Relational Database Service\"}, com.cognitect.aws/rds-data - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS RDS DataService\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS RDS DataService\"}, com.cognitect.aws/redshift {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Redshift\"}, com.cognitect.aws/redshift-data {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Redshift Data API Service\"}, @@ -436,7 +442,7 @@ com.cognitect.aws/rekognition {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Rekognition\"}, com.cognitect.aws/resiliencehub - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Resilience Hub\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Resilience Hub\"}, com.cognitect.aws/resource-groups {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Resource Groups\"}, com.cognitect.aws/resourcegroupstaggingapi @@ -461,14 +467,14 @@ com.cognitect.aws/runtime-lex-v2 {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Lex Runtime V2\"}, com.cognitect.aws/runtime-sagemaker - {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon SageMaker Runtime\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon SageMaker Runtime\"}, com.cognitect.aws/s3 {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Simple Storage Service\"}, - com.cognitect.aws/s3control {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS S3 Control\"}, + com.cognitect.aws/s3control {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS S3 Control\"}, com.cognitect.aws/s3outposts {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon S3 on Outposts\"}, com.cognitect.aws/sagemaker - {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon SageMaker Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon SageMaker Service\"}, com.cognitect.aws/sagemaker-a2i-runtime {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Augmented AI Runtime\"}, com.cognitect.aws/sagemaker-edge @@ -480,7 +486,7 @@ com.cognitect.aws/schemas {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Schemas\"}, com.cognitect.aws/sdb {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon SimpleDB\"}, com.cognitect.aws/secretsmanager - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Secrets Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Secrets Manager\"}, com.cognitect.aws/securityhub {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS SecurityHub\"}, com.cognitect.aws/serverlessrepo @@ -500,22 +506,22 @@ com.cognitect.aws/snow-device-management {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Snow Device Management\"}, com.cognitect.aws/snowball - {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Import/Export Snowball\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Import/Export Snowball\"}, com.cognitect.aws/sns {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Simple Notification Service\"}, com.cognitect.aws/sqs {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Simple Queue Service\"}, com.cognitect.aws/ssm - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Simple Systems Manager (SSM)\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Simple Systems Manager (SSM)\"}, com.cognitect.aws/ssm-contacts {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Systems Manager Incident Manager Contacts\"}, com.cognitect.aws/ssm-incidents - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Systems Manager Incident Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Systems Manager Incident Manager\"}, com.cognitect.aws/sso {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Single Sign-On\"}, com.cognitect.aws/sso-admin {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Single Sign-On Admin\"}, - com.cognitect.aws/sso-oidc {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS SSO OIDC\"}, + com.cognitect.aws/sso-oidc {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS SSO OIDC\"}, com.cognitect.aws/states {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Step Functions\"}, com.cognitect.aws/storagegateway {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"AWS Storage Gateway\"}, @@ -537,25 +543,25 @@ com.cognitect.aws/transcribe {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon Transcribe Service\"}, com.cognitect.aws/transfer - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Transfer Family\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Transfer Family\"}, com.cognitect.aws/translate - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon Translate\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Translate\"}, com.cognitect.aws/voice-id {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Voice ID\"}, com.cognitect.aws/waf {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS WAF\"}, com.cognitect.aws/waf-regional {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS WAF Regional\"}, - com.cognitect.aws/wafv2 {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS WAFV2\"}, + com.cognitect.aws/wafv2 {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS WAFV2\"}, com.cognitect.aws/wellarchitected {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Well-Architected Tool\"}, com.cognitect.aws/wisdom - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Connect Wisdom Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Connect Wisdom Service\"}, com.cognitect.aws/workdocs {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon WorkDocs\"}, com.cognitect.aws/worklink {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"Amazon WorkLink\"}, - com.cognitect.aws/workmail {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon WorkMail\"}, + com.cognitect.aws/workmail {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon WorkMail\"}, com.cognitect.aws/workmailmessageflow {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon WorkMail Message Flow\"}, com.cognitect.aws/workspaces - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon WorkSpaces\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon WorkSpaces\"}, com.cognitect.aws/workspaces-web {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon WorkSpaces Web\"}, com.cognitect.aws/xray {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS X-Ray\"}} diff --git a/src/cognitect/aws/client/api.clj b/src/cognitect/aws/client/api.clj index 25921cf..afcd227 100644 --- a/src/cognitect/aws/client/api.clj +++ b/src/cognitect/aws/client/api.clj @@ -41,11 +41,11 @@ :hostname - string :port - int :path - string - If the hostname includes an AWS region, be sure use the same + If the hostname includes an AWS region, be sure to use the same region for the client (either via out of process configuration or the :region key supplied to this fn). Also supports a string representing just the hostname, though - support for a string is deprectated and may be removed in the + support for a string is deprecated and may be removed in the future. :retriable? - optional, predicate fn of http-response (see cognitect.aws.http/submit), which should return a truthy value if the request is ", "completion": "rejigger http error response parsing and handling, resolves #218 (#11) rejigger http error response parsing and handling, resolves #11 "}
{"prompt": "diff --git a/CHANGES.md b/CHANGES.md index bd93dad..027a175 100644 --- a/CHANGES.md +++ b/CHANGES.md @@ -1,5 +1,9 @@ # aws-api +## 0.8.603 / 2022-10-11 + +* parse XML error messages from AWS even when we ask for JSON [#174](https://github.com/cognitect-labs/aws-api/issues/174) + ## 0.8.596 / 2022-09-16 CHANGES.md LICENSE README.md UPGRADE.md VERSION_PREFIX build deps.edn dev doc examples latest-releases.edn pom.xml resources src test upgrade to org.clojure/data.xml 0.2.0-alpha8. Fixes parsing issue [#205](https://github.com/cognitect-labs/aws-api/issues/205) diff --git a/README.md b/README.md index f1f09d9..8953de8 100644 --- a/README.md +++ b/README.md @@ -73,8 +73,8 @@ of your choice, e.g. `com.cognitect.aws/s3`. To use, for example, the s3 api, add the following to deps.edn ``` clojure -{:deps {com.cognitect.aws/api {:mvn/version \"0.8.596\"} - com.cognitect.aws/endpoints {:mvn/version \"1.1.12.307\"} +{:deps {com.cognitect.aws/api {:mvn/version \"0.8.603\"} + com.cognitect.aws/endpoints {:mvn/version \"1.1.12.321\"} com.cognitect.aws/s3 {:mvn/version \"822.2.1145.0\"}}} ``` @@ -204,11 +204,16 @@ and before it checks your aws configuration. ## Endpoint Override -Most of the time you can create a client and it figures out the correct endpoint for you, -but there are exceptions. You may want to use a proxy server or connect to a local dynamodb, -or perhaps you've found a bug that you could work around if you could supply the correct -endpoint. All of this can be accomplished by supplying an `:endpoint-override` map -to the `client` constructor: +Most of the time you can create a client and it figures out the correct endpoint for you. The +endpoints of most AWS API operations adhere to the pattern documented in [AWS Regions and +Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html). But there are exceptions. + +* Some AWS APIs have operations which require custom endpoints (e.g. Kinesis Video [GetMedia](https://docs.aws.amazon.com/kinesisvideostreams/latest/dg/API_dataplane_GetMedia.html)). +* You may want to use a proxy server or connect to a local dynamodb. +* Perhaps you've found a bug that you could work around if you could supply the correct endpoint. + +All of this can be accomplished by supplying an `:endpoint-override` map to the `client` +constructor: ``` clojure (def ddb (aws/client {:api :dynamodb @@ -264,11 +269,13 @@ patches. `aws-api` was extracted from an internal project at Cognitect, and some contributors are missing from the commit log. Here are all the -folks from Cognitect who either committed code directly, or +folks from Cognitect and Nubank who either committed code directly, or contributed significantly to research and design: [Timothy Baldridge](https://github.com/halgari)<br/> +[Scott Bale](https://github.com/scottbale)<br/> [David Chelimsky](https://github.com/dchelimsky)<br/> +[Maria Clara Crespo](https://github.com/mariaclaracrespo)<br/> [Benoît Fleury](https://github.com/benfle)<br/> [Fogus](https://github.com/fogus)<br/> [Stuart Halloway](https://github.com/stuarthalloway)<br/> @@ -365,7 +372,7 @@ function bound to the `:backoff` key when you create a client. :backoff (fn [n-tries-so-far] ,,)}) ``` -Don't forget to account for termination by retuning nil after some number of retries. +Don't forget to account for termination by returning nil after some number of retries. You an also use `cognitect.aws.retry/capped-exponential-backoff` to generate a function with different values for base, max-backoff, and @@ -376,7 +383,7 @@ max-retries, and then pass that to `client`. This indicates that the configured endpoint is incorrect for the service/op you are trying to perform. -Remedy: check [AWS Regions and Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html) +Remedy: check [AWS Regions and Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html) for the proper endpoint and use the `:endpoint-override` key when creating a client, e.g. @@ -386,6 +393,27 @@ e.g. :endpoint-override {:hostname (str my-account-id \".s3-control.us-east-1.amazonaws.com\")}}) ``` +### UnknownOperationException + +AWS will return an `UnknownOperationException` response when a client is configured with (or defaults to) an incorrect endpoint. + +Remedy: check [AWS Regions and Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html) for +the proper endpoint and use the `:endpoint-override` key when creating a client. + +Note that some AWS APIs have custom endpoint requirements. For example, Kinesis Video [Get +Media](https://docs.aws.amazon.com/kinesisvideostreams/latest/dg/API_dataplane_GetMedia.html) +operation requires a custom endpoint, e.g. + +``` clojure +(def kvs (aws/client {:api :kinesisvideo ... })) + +(def kvs-endpoint (:DataEndpoint (aws/invoke kvs {:op :GetDataEndpoint ... }))) + +(aws/client {:api :kinesis-video-media + :region \"us-east-1\" + :endpoint-override {:hostname (str/replace kvs-endpoint #\"https://\" \"\")}}) +``` + ### No known endpoint. This indicates that the data in the `com.cognitect.aws/endpoints` lib diff --git a/deps.edn b/deps.edn index 11b874f..1339b33 100644 --- a/deps.edn +++ b/deps.edn @@ -17,7 +17,7 @@ http-kit/http-kit {:mvn/version \"2.6.0\"} com.cognitect.aws/endpoints {:mvn/version \"1.1.12.280\"} com.cognitect.aws/s3 {:mvn/version \"822.2.1145.0\"}}} - :test {:extra-deps {io.github.cognitect-labs/test-runner {:git/tag \"v0.5.0\" :git/sha \"b3fd0d2\"}} + :test {:extra-deps {io.github.cognitect-labs/test-runner {:git/tag \"v0.5.1\" :git/sha \"dfb30dd\"}} :main-opts [\"-m\" \"cognitect.test-runner\"]} :examples {:extra-paths [\"examples\" \"examples/resources\" \"dev/resources\"] :extra-deps {com.cognitect.aws/dynamodb {:mvn/version \"822.2.1171.0\"} diff --git a/examples/README.md b/examples/README.md index 6a5c499..0ccaaa6 100644 --- a/examples/README.md +++ b/examples/README.md @@ -5,7 +5,7 @@ clone this repo and start a repl in your preferred environment using the deps.edn in the project root, e.g. ``` -clj -A:examples +clj -A:dev:examples ``` Then you can open any of the xxx_examples.clj files and start evaluating forms. diff --git a/examples/deps.edn b/examples/deps.edn deleted file mode 100644 index 623dd86..0000000 --- a/examples/deps.edn +++ /dev/null @@ -1,10 +0,0 @@ -{:deps {com.cognitect.aws/api {:mvn/version \"0.8.391\" - :exclusions [org.slf4j/slf4j-log4j12]} - com.cognitect.aws/dynamodb {:mvn/version \"746.2.533.0\"} - com.cognitect.aws/ec2 {:mvn/version \"759.2.556.0\"} - com.cognitect.aws/endpoints {:mvn/version \"1.1.11.664\"} - com.cognitect.aws/logs {:mvn/version \"747.2.533.0\"} - com.cognitect.aws/autoscaling {:mvn/version \"770.2.568.0\"} - com.cognitect.aws/cloudformation {:mvn/version \"746.2.533.0\"} - com.cognitect.aws/s3 {:mvn/version \"762.2.558.0\"} - com.cognitect.aws/resourcegroupstaggingapi {:mvn/version \"747.2.533.0\"}}} diff --git a/latest-releases.edn b/latest-releases.edn index 0b9307f..264297c 100644 --- a/latest-releases.edn +++ b/latest-releases.edn @@ -1,5 +1,5 @@ -{com.cognitect.aws/api {:mvn/version \"0.8.596\"}, - com.cognitect.aws/endpoints {:mvn/version \"1.1.12.307\"}, +{com.cognitect.aws/api {:mvn/version \"0.8.603\"}, + com.cognitect.aws/endpoints {:mvn/version \"1.1.12.321\"}, com.cognitect.aws/AWS242AppRegistry {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Service Catalog App Registry\"}, com.cognitect.aws/AWSApplicationCostProfiler @@ -7,10 +7,10 @@ com.cognitect.aws/AWSMigrationHub {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Migration Hub\"}, com.cognitect.aws/accessanalyzer - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Access Analyzer\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Access Analyzer\"}, com.cognitect.aws/account {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Account\"}, com.cognitect.aws/acm - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Certificate Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Certificate Manager\"}, com.cognitect.aws/acm-pca {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Certificate Manager Private Certificate Authority\"}, @@ -22,7 +22,7 @@ com.cognitect.aws/amplifybackend {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AmplifyBackend\"}, com.cognitect.aws/amplifyuibuilder - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Amplify UI Builder\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Amplify UI Builder\"}, com.cognitect.aws/apigateway {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon API Gateway\"}, com.cognitect.aws/apigatewaymanagementapi @@ -33,7 +33,7 @@ {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon AppConfig\"}, com.cognitect.aws/appconfigdata {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS AppConfig Data\"}, - com.cognitect.aws/appflow {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Appflow\"}, + com.cognitect.aws/appflow {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Appflow\"}, com.cognitect.aws/appintegrations {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon AppIntegrations Service\"}, com.cognitect.aws/application-autoscaling @@ -41,7 +41,7 @@ com.cognitect.aws/application-insights {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon CloudWatch Application Insights\"}, com.cognitect.aws/appmesh {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS App Mesh\"}, - com.cognitect.aws/apprunner {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS App Runner\"}, + com.cognitect.aws/apprunner {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS App Runner\"}, com.cognitect.aws/appstream {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon AppStream\"}, com.cognitect.aws/appsync {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS AppSync\"}, @@ -53,7 +53,7 @@ {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Auto Scaling Plans\"}, com.cognitect.aws/backup {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Backup\"}, com.cognitect.aws/backup-gateway - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Backup Gateway\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Backup Gateway\"}, com.cognitect.aws/backupstorage {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Backup Storage\"}, com.cognitect.aws/batch {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Batch\"}, @@ -62,7 +62,7 @@ com.cognitect.aws/braket {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Braket\"}, com.cognitect.aws/budgets {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Budgets\"}, com.cognitect.aws/ce - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Cost Explorer Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Cost Explorer Service\"}, com.cognitect.aws/chime {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Chime\"}, com.cognitect.aws/chime-sdk-identity {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Chime SDK Identity\"}, @@ -92,9 +92,9 @@ com.cognitect.aws/codeartifact {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"CodeArtifact\"}, com.cognitect.aws/codebuild {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS CodeBuild\"}, com.cognitect.aws/codecommit {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS CodeCommit\"}, - com.cognitect.aws/codedeploy {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS CodeDeploy\"}, + com.cognitect.aws/codedeploy {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS CodeDeploy\"}, com.cognitect.aws/codeguru-reviewer - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon CodeGuru Reviewer\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon CodeGuru Reviewer\"}, com.cognitect.aws/codeguruprofiler {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon CodeGuru Profiler\"}, com.cognitect.aws/codepipeline @@ -111,24 +111,26 @@ com.cognitect.aws/cognito-sync {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Cognito Sync\"}, com.cognitect.aws/comprehend - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Comprehend\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Comprehend\"}, com.cognitect.aws/comprehendmedical {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Comprehend Medical\"}, com.cognitect.aws/compute-optimizer {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Compute Optimizer\"}, com.cognitect.aws/config {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Config\"}, com.cognitect.aws/connect - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Connect Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Connect Service\"}, com.cognitect.aws/connect-contact-lens {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Connect Contact Lens\"}, com.cognitect.aws/connectcampaigns {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AmazonConnectCampaignService\"}, + com.cognitect.aws/connectcases + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Connect Cases\"}, com.cognitect.aws/connectparticipant {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Connect Participant Service\"}, com.cognitect.aws/controltower {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Control Tower\"}, com.cognitect.aws/cur - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Cost and Usage Report Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Cost and Usage Report Service\"}, com.cognitect.aws/customer-profiles {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Connect Customer Profiles\"}, com.cognitect.aws/databrew @@ -143,17 +145,17 @@ com.cognitect.aws/detective {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Detective\"}, com.cognitect.aws/devicefarm - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Device Farm\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Device Farm\"}, com.cognitect.aws/devices {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS IoT 1-Click Devices Service\"}, com.cognitect.aws/devops-guru - {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon DevOps Guru\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon DevOps Guru\"}, com.cognitect.aws/directconnect {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Direct Connect\"}, com.cognitect.aws/discovery {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Application Discovery Service\"}, com.cognitect.aws/dlm - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Data Lifecycle Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Data Lifecycle Manager\"}, com.cognitect.aws/dms {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Database Migration Service\"}, com.cognitect.aws/docdb @@ -161,12 +163,12 @@ :aws/serviceFullName \"Amazon DocumentDB with MongoDB compatibility\"}, com.cognitect.aws/drs {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Elastic Disaster Recovery Service\"}, - com.cognitect.aws/ds {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Directory Service\"}, + com.cognitect.aws/ds {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Directory Service\"}, com.cognitect.aws/dynamodb {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon DynamoDB\"}, com.cognitect.aws/ebs {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Elastic Block Store\"}, com.cognitect.aws/ec2 - {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon Elastic Compute Cloud\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Elastic Compute Cloud\"}, com.cognitect.aws/ec2-instance-connect {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS EC2 Instance Connect\"}, com.cognitect.aws/ecr @@ -174,7 +176,7 @@ com.cognitect.aws/ecr-public {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Elastic Container Registry Public\"}, com.cognitect.aws/ecs - {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon EC2 Container Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon EC2 Container Service\"}, com.cognitect.aws/eks {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Elastic Kubernetes Service\"}, com.cognitect.aws/elastic-inference @@ -188,7 +190,7 @@ com.cognitect.aws/elasticloadbalancing {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Elastic Load Balancing\"}, com.cognitect.aws/elasticloadbalancingv2 - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Elastic Load Balancing\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Elastic Load Balancing\"}, com.cognitect.aws/elasticmapreduce {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon EMR\"}, com.cognitect.aws/elastictranscoder @@ -198,7 +200,7 @@ com.cognitect.aws/emr-containers {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon EMR Containers\"}, com.cognitect.aws/emr-serverless - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"EMR Serverless\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"EMR Serverless\"}, com.cognitect.aws/entitlement-marketplace {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Marketplace Entitlement Service\"}, com.cognitect.aws/es @@ -223,22 +225,22 @@ {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Forecast Query Service\"}, com.cognitect.aws/frauddetector {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon Fraud Detector\"}, - com.cognitect.aws/fsx {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon FSx\"}, + com.cognitect.aws/fsx {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon FSx\"}, com.cognitect.aws/gamelift {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon GameLift\"}, com.cognitect.aws/gamesparks {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"GameSparks\"}, com.cognitect.aws/glacier {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Glacier\"}, com.cognitect.aws/globalaccelerator {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Global Accelerator\"}, - com.cognitect.aws/glue {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Glue\"}, + com.cognitect.aws/glue {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Glue\"}, com.cognitect.aws/grafana {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Managed Grafana\"}, com.cognitect.aws/greengrass {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Greengrass\"}, com.cognitect.aws/greengrassv2 - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS IoT Greengrass V2\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS IoT Greengrass V2\"}, com.cognitect.aws/groundstation {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Ground Station\"}, com.cognitect.aws/guardduty - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon GuardDuty\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon GuardDuty\"}, com.cognitect.aws/health {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Health APIs and Notifications\"}, com.cognitect.aws/healthlake @@ -246,9 +248,9 @@ com.cognitect.aws/honeycode {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Honeycode\"}, com.cognitect.aws/iam - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Identity and Access Management\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Identity and Access Management\"}, com.cognitect.aws/identitystore - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS SSO Identity Store\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS SSO Identity Store\"}, com.cognitect.aws/imagebuilder {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"EC2 Image Builder\"}, com.cognitect.aws/importexport @@ -272,6 +274,8 @@ {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS IoT Events Data\"}, com.cognitect.aws/iotfleethub {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS IoT Fleet Hub\"}, + com.cognitect.aws/iotfleetwise + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS IoT FleetWise\"}, com.cognitect.aws/iotsecuretunneling {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS IoT Secure Tunneling\"}, com.cognitect.aws/iotsitewise @@ -291,7 +295,7 @@ com.cognitect.aws/kafkaconnect {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Managed Streaming for Kafka Connect\"}, com.cognitect.aws/kendra - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWSKendraFrontendService\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWSKendraFrontendService\"}, com.cognitect.aws/keyspaces {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Keyspaces\"}, com.cognitect.aws/kinesis {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Kinesis\"}, @@ -319,9 +323,9 @@ com.cognitect.aws/license-manager-user-subscriptions {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS License Manager User Subscriptions\"}, com.cognitect.aws/lightsail - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Lightsail\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Lightsail\"}, com.cognitect.aws/location - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Location Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Location Service\"}, com.cognitect.aws/logs {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon CloudWatch Logs\"}, com.cognitect.aws/lookoutequipment @@ -345,13 +349,13 @@ com.cognitect.aws/mediaconnect {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"AWS MediaConnect\"}, com.cognitect.aws/mediaconvert - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Elemental MediaConvert\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Elemental MediaConvert\"}, com.cognitect.aws/medialive - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Elemental MediaLive\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Elemental MediaLive\"}, com.cognitect.aws/mediapackage {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Elemental MediaPackage\"}, com.cognitect.aws/mediapackage-vod - {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"AWS Elemental MediaPackage VOD\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Elemental MediaPackage VOD\"}, com.cognitect.aws/mediastore {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Elemental MediaStore\"}, com.cognitect.aws/mediastore-data @@ -367,13 +371,15 @@ {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Migration Hub Refactor Spaces\"}, com.cognitect.aws/migrationhub-config {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Migration Hub Config\"}, + com.cognitect.aws/migrationhuborchestrator + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Migration Hub Orchestrator\"}, com.cognitect.aws/migrationhubstrategy {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Migration Hub Strategy Recommendations\"}, com.cognitect.aws/mobile {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Mobile\"}, com.cognitect.aws/mobileanalytics {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Mobile Analytics\"}, com.cognitect.aws/models-lex-v2 - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Lex Model Building V2\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Lex Model Building V2\"}, com.cognitect.aws/monitoring {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon CloudWatch\"}, com.cognitect.aws/mq {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"AmazonMQ\"}, @@ -382,10 +388,10 @@ com.cognitect.aws/mwaa {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AmazonMWAA\"}, com.cognitect.aws/neptune {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon Neptune\"}, com.cognitect.aws/network-firewall - {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Network Firewall\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Network Firewall\"}, com.cognitect.aws/networkmanager {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Network Manager\"}, - com.cognitect.aws/nimble {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AmazonNimbleStudio\"}, + com.cognitect.aws/nimble {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AmazonNimbleStudio\"}, com.cognitect.aws/opensearch {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon OpenSearch Service\"}, com.cognitect.aws/opsworks {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS OpsWorks\"}, @@ -393,8 +399,8 @@ {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS OpsWorks CM\"}, com.cognitect.aws/organizations {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Organizations\"}, - com.cognitect.aws/outposts {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Outposts\"}, - com.cognitect.aws/panorama {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Panorama\"}, + com.cognitect.aws/outposts {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Outposts\"}, + com.cognitect.aws/panorama {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Panorama\"}, com.cognitect.aws/personalize {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Personalize\"}, com.cognitect.aws/personalize-events @@ -410,24 +416,24 @@ {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Pinpoint SMS and Voice Service\"}, com.cognitect.aws/pinpoint-sms-voice-v2 {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Pinpoint SMS Voice V2\"}, - com.cognitect.aws/polly {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Polly\"}, + com.cognitect.aws/polly {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Polly\"}, com.cognitect.aws/pricing {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Price List Service\"}, com.cognitect.aws/privatenetworks {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Private 5G\"}, - com.cognitect.aws/proton {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Proton\"}, + com.cognitect.aws/proton {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Proton\"}, com.cognitect.aws/qldb {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon QLDB\"}, com.cognitect.aws/qldb-session {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon QLDB Session\"}, com.cognitect.aws/quicksight - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon QuickSight\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon QuickSight\"}, com.cognitect.aws/ram {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Resource Access Manager\"}, com.cognitect.aws/rbin {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Recycle Bin\"}, com.cognitect.aws/rds {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon Relational Database Service\"}, com.cognitect.aws/rds-data - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS RDS DataService\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS RDS DataService\"}, com.cognitect.aws/redshift {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Redshift\"}, com.cognitect.aws/redshift-data {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Redshift Data API Service\"}, @@ -436,7 +442,7 @@ com.cognitect.aws/rekognition {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Rekognition\"}, com.cognitect.aws/resiliencehub - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Resilience Hub\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Resilience Hub\"}, com.cognitect.aws/resource-groups {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Resource Groups\"}, com.cognitect.aws/resourcegroupstaggingapi @@ -461,14 +467,14 @@ com.cognitect.aws/runtime-lex-v2 {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Lex Runtime V2\"}, com.cognitect.aws/runtime-sagemaker - {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon SageMaker Runtime\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon SageMaker Runtime\"}, com.cognitect.aws/s3 {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Simple Storage Service\"}, - com.cognitect.aws/s3control {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS S3 Control\"}, + com.cognitect.aws/s3control {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS S3 Control\"}, com.cognitect.aws/s3outposts {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon S3 on Outposts\"}, com.cognitect.aws/sagemaker - {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon SageMaker Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon SageMaker Service\"}, com.cognitect.aws/sagemaker-a2i-runtime {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Augmented AI Runtime\"}, com.cognitect.aws/sagemaker-edge @@ -480,7 +486,7 @@ com.cognitect.aws/schemas {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Schemas\"}, com.cognitect.aws/sdb {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon SimpleDB\"}, com.cognitect.aws/secretsmanager - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Secrets Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Secrets Manager\"}, com.cognitect.aws/securityhub {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS SecurityHub\"}, com.cognitect.aws/serverlessrepo @@ -500,22 +506,22 @@ com.cognitect.aws/snow-device-management {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Snow Device Management\"}, com.cognitect.aws/snowball - {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Import/Export Snowball\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Import/Export Snowball\"}, com.cognitect.aws/sns {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Simple Notification Service\"}, com.cognitect.aws/sqs {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Simple Queue Service\"}, com.cognitect.aws/ssm - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Simple Systems Manager (SSM)\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Simple Systems Manager (SSM)\"}, com.cognitect.aws/ssm-contacts {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Systems Manager Incident Manager Contacts\"}, com.cognitect.aws/ssm-incidents - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Systems Manager Incident Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Systems Manager Incident Manager\"}, com.cognitect.aws/sso {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Single Sign-On\"}, com.cognitect.aws/sso-admin {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Single Sign-On Admin\"}, - com.cognitect.aws/sso-oidc {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS SSO OIDC\"}, + com.cognitect.aws/sso-oidc {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS SSO OIDC\"}, com.cognitect.aws/states {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Step Functions\"}, com.cognitect.aws/storagegateway {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"AWS Storage Gateway\"}, @@ -537,25 +543,25 @@ com.cognitect.aws/transcribe {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon Transcribe Service\"}, com.cognitect.aws/transfer - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Transfer Family\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Transfer Family\"}, com.cognitect.aws/translate - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon Translate\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Translate\"}, com.cognitect.aws/voice-id {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Voice ID\"}, com.cognitect.aws/waf {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS WAF\"}, com.cognitect.aws/waf-regional {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS WAF Regional\"}, - com.cognitect.aws/wafv2 {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS WAFV2\"}, + com.cognitect.aws/wafv2 {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS WAFV2\"}, com.cognitect.aws/wellarchitected {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Well-Architected Tool\"}, com.cognitect.aws/wisdom - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Connect Wisdom Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Connect Wisdom Service\"}, com.cognitect.aws/workdocs {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon WorkDocs\"}, com.cognitect.aws/worklink {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"Amazon WorkLink\"}, - com.cognitect.aws/workmail {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon WorkMail\"}, + com.cognitect.aws/workmail {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon WorkMail\"}, com.cognitect.aws/workmailmessageflow {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon WorkMail Message Flow\"}, com.cognitect.aws/workspaces - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon WorkSpaces\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon WorkSpaces\"}, com.cognitect.aws/workspaces-web {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon WorkSpaces Web\"}, com.cognitect.aws/xray {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS X-Ray\"}} diff --git a/src/cognitect/aws/client/api.clj b/src/cognitect/aws/client/api.clj index 25921cf..afcd227 100644 --- a/src/cognitect/aws/client/api.clj +++ b/src/cognitect/aws/client/api.clj @@ -41,11 +41,11 @@ :hostname - string :port - int :path - string - If the hostname includes an AWS region, be sure use the same + If the hostname includes an AWS region, be sure to use the same region for the client (either via out of process configuration or the :region key supplied to this fn). Also supports a string representing just the hostname, though - support for a string is deprectated and may be removed in the + support for a string is deprecated and may be removed in the future. :retriable? - optional, predicate fn of http-response (see cognitect.aws.http/submit), which should return a truthy value if the request is diff --git a/src/cognitect/aws/client/impl.clj b/src/cognitect/aws/client/impl.clj index ff582e2..4eeef77 100644 --- a/src/cognitect/aws/client/impl.clj +++ b/src/cognitect/aws/client/impl.clj @@ -22,11 +22,13 @@ ;; TODO convey throwable back from impl (defn ^:private handle-http-response - [service op-map http-response] + [service op-map {:keys [status] :as http-response}] (try (if (:cognitect.anomalies/category http-response) http-response - (aws.protocols/parse-http-response service op-map http-response)) + (if (< status 400) + (aws.protocols/parse-http-response service op-map http-response) + (aws.protocols/parse-http-error-response http-response))) (catch Throwable t {:cognitect.anomalies/category :cognitect.anomalies/fault ::throwable t}))) diff --git a/src/cognitect/aws/protocols.clj b/src/cognitect/aws/protocols.clj index c6f9c30..752b1db 100644 --- a/src/cognitect/aws/protocols.clj +++ b/src/cognitect/aws/protocols.clj @@ -44,15 +44,21 @@ (contains? #{\"query\" \"ec2\"} protocol) (assoc \"content-type\" \"application/x-www-form-urlencoded; charset=utf-8\")))) -(defn parse-error* - [{:keys [status] :as http-response} response-body] - (with-meta (assoc response-body :cognitect.anomalies/category (status-code->anomaly status)) - http-response)) - -(defn xml-parse-error - [{:keys [body] :as http-response}] - (parse-error* http-response (some-> body util/bbuf->str util/xml-read util/xml->map))) +(defn- parse-encoded-string* + \"Given non-nil String, determine the encoding (currently either XML or JSON). Return a Map + representation of the encoded data.\" + [encoded-str] + (if (= < (first encoded-str)) + (-> encoded-str util/xml-read util/xml->map) + (-> encoded-str (json/read-str :key-fn keyword)))) -(defn json-parse-error - [{:keys [body] :as http-response}] - (parse-error* http-response (some-> body util/bbuf->str (json/read-str :key-fn keyword)))) +(defn parse-http-error-response + \"Given an http error response (any status code 400 or above), return an aws-api-specific response + Map.\" + [{:keys [status body] :as http-response}] + (with-meta + (assoc + (some-> body util/bbuf->str parse-encoded-string*) + :cognitect.anomalies/category + (status-code->anomaly status)) + http-response)) diff --git a/src/cognitect/aws/protocols/json.clj b/src/cognitect/aws/protocols/json.clj index f9b33d6..08f6614 100644 --- a/src/cognitect/aws/protocols/json.clj +++ b/src/cognitect/aws/protocols/json.clj @@ -34,14 +34,10 @@ :body (serialize input-shape (or request {}))})) (defmethod aws.protocols/parse-http-response \"json\" - [service {:keys [op]} {:keys [status body] :as http-response}] - (if (:cognitect.anomalies/category http-response) - http-response - (let [operation (get-in service [:operations op]) - output-shape (service/shape service (:output operation)) - body-str (util/bbuf->str body)] - (if (< status 400) - (if output-shape - (shape/json-parse output-shape body-str) - {}) - (aws.protocols/json-parse-error http-response))))) + [service {:keys [op]} {:keys [body]}] + (let [operation (get-in service [:operations op]) + output-shape (service/shape service (:output operation)) + body-str (util/bbuf->str body)] + (if output-shape + (shape/json-parse output-shape body-str) + {}))) diff --git a/src/cognitect/aws/protocols/query.clj b/src/cognitect/aws/protocols/query.clj index bc1d6fd..1141846 100644 --- a/src/cognitect/aws/protocols/query.clj +++ b/src/cognitect/aws/protocols/query.clj @@ -102,15 +102,11 @@ (build-query-http-request serialize service req-map)) (defn build-query-http-response - [service {:keys [op]} {:keys [status body] :as http-response}] + [service {:keys [op]} {:keys [body]}] (let [operation (get-in service [:operations op])] - (if (:cognitect.anomalies/category http-response) - http-response - (if (< status 400) - (if-let [output-shape (service/shape service (:output operation))] - (shape/xml-parse output-shape (util/bbuf->str body)) - (util/xml->map (util/xml-read (util/bbuf->str body)))) - (aws.protocols/xml-parse-error http-response))))) + (if-let [output-shape (service/shape service (:output operation))] + (shape/xml-parse output-shape (util/bbuf->str body)) + (util/xml->map (util/xml-read (util/bbuf->str body)))))) (defmethod aws.protocols/parse-http-response \"query\" [service op-map http-response] diff --git a/src/cognitect/aws/protocols/rest.clj b/src/cognitect/aws/protocols/rest.clj index 7197922..7e4b73e 100644 --- a/src/cognitect/aws/protocols/rest.clj +++ b/src/cognitect/aws/protocols/rest.clj @@ -248,15 +248,10 @@ (parse-fn output-shape body-str))))) (defn parse-http-response - [service {:keys [op]} {:keys [status body] :as http-response} - parse-body-str - parse-error] - (if (:cognitect.anomalies/category http-response) - http-response - (let [operation (get-in service [:operations op]) - output-shape (service/shape service (:output operation))] - (if (< status 400) - (merge (parse-non-payload-attrs output-shape http-response) - (when output-shape - (parse-body output-shape body parse-body-str))) - (parse-error http-response))))) + [service {:keys [op]} {:keys [body] :as http-response} + parse-body-str] + (let [operation (get-in service [:operations op]) + output-shape (service/shape service (:output operation))] + (merge (parse-non-payload-attrs output-shape http-response) + (when output-shape + (parse-body output-shape body parse-body-str))))) diff --git a/src/cognitect/aws/protocols/rest_json.clj b/src/cognitect/aws/protocols/rest_json.clj index 4fa67cb..f5de971 100644 --- a/src/cognitect/aws/protocols/rest_json.clj +++ b/src/cognitect/aws/protocols/rest_json.clj @@ -41,5 +41,4 @@ (rest/parse-http-response service op-map http-response - shape/json-parse - aws.protocols/json-parse-error)) + shape/json-parse)) diff --git a/src/cognitect/aws/protocols/rest_xml.clj b/src/cognitect/aws/protocols/rest_xml.clj index 2ba5e6d..651afe5 100644 --- a/src/cognitect/aws/protocols/rest_xml.clj +++ b/src/cognitect/aws/protocols/rest_xml.clj @@ -26,5 +26,4 @@ (rest/parse-http-response service op-map http-response - shape/xml-parse - aws.protocols/xml-parse-error)) + shape/xml-parse)) diff --git a/test/src/cognitect/aws/protocols_test.clj b/test/src/cognitect/aws/protocols_test.clj index 57efbf3..989c91b 100644 --- a/test/src/cognitect/aws/protocols_test.clj +++ b/test/src/cognitect/aws/protocols_test.clj @@ -17,7 +17,8 @@ [cognitect.aws.protocols.rest-json] [cognitect.aws.protocols.rest-xml] [cognitect.aws.util :as util]) - (:import (java.util Date))) + (:import (java.nio ByteBuffer) + (java.util Date))) (s/fdef cognitect.aws.util/query-string :args (s/cat :params (s/or :seq (s/coll-of (s/cat :key (s/or :kw simple-keyword? :str string?) @@ -434,5 +435,33 @@ \"rest-json\"]] (test-protocol protocol)))) +(deftest test-parse-http-error-response + (testing \"parse JSON-encoded error response body\" + (let [response {:status 401 + :body (ByteBuffer/wrap (.getBytes \"{\"FOO\": \"abc\"}\" \"UTF-8\"))} + parsed-response (aws.protocols/parse-http-error-response response)] + (is (= {:FOO \"abc\" :cognitect.anomalies/category :cognitect.anomalies/incorrect} + parsed-response)) + (testing \"http response is included as metadata on returned parsed error response\" + (is (= response (meta parsed-response)))))) + (testing \"parse XML-encoded response body - issue 218: AWS returns XML-encoded 404 response when JSON-encoding was expected\" + (let [response {:status 404 + :body (ByteBuffer/wrap (.getBytes \"<UnknownOperationException/>\" \"UTF-8\"))} + parsed-response (aws.protocols/parse-http-error-response response)] + (is (= {:UnknownOperationException nil + :UnknownOperationExceptionAttrs {} + :cognitect.anomalies/category :cognitect.anomalies/not-found} + parsed-response)) + (testing \"http response is included as metadata on returned parsed error response\" + (is (= response (meta parsed-response)))))) + (testing \"parse response with empty body\" + (let [response {:status 404 + :body nil} + parsed-response (aws.protocols/parse-http-error-response response)] + (is (= {:cognitect.anomalies/category :cognitect.anomalies/not-found} + parsed-response)) + (testing \"http response is included as metadata on returned parsed error response\" + (is (= response (meta parsed-response))))))) + (comment (t/run-tests)) ", "completion": "add reference to Data Types doc to README and invoke and doc fns "}
{"prompt": "diff --git a/CHANGES.md b/CHANGES.md index bd93dad..027a175 100644 --- a/CHANGES.md +++ b/CHANGES.md @@ -1,5 +1,9 @@ # aws-api +## 0.8.603 / 2022-10-11 + +* parse XML error messages from AWS even when we ask for JSON [#174](https://github.com/cognitect-labs/aws-api/issues/174) + ## 0.8.596 / 2022-09-16 CHANGES.md LICENSE README.md UPGRADE.md VERSION_PREFIX build deps.edn dev doc examples latest-releases.edn pom.xml resources src test upgrade to org.clojure/data.xml 0.2.0-alpha8. Fixes parsing issue [#205](https://github.com/cognitect-labs/aws-api/issues/205) diff --git a/README.md b/README.md index e8e1c0f..8953de8 100644 --- a/README.md +++ b/README.md @@ -3,7 +3,10 @@ aws-api is a Clojure library which provides programmatic access to AWS services from your Clojure program. -* [API Docs](https://cognitect-labs.github.io/aws-api/) +## Docs + +* [API](https://cognitect-labs.github.io/aws-api/) +* [Data types for :request maps](https://github.com/cognitect-labs/aws-api/blob/main/doc/types.md) ## Rationale @@ -70,8 +73,8 @@ of your choice, e.g. `com.cognitect.aws/s3`. To use, for example, the s3 api, add the following to deps.edn ``` clojure -{:deps {com.cognitect.aws/api {:mvn/version \"0.8.596\"} - com.cognitect.aws/endpoints {:mvn/version \"1.1.12.307\"} +{:deps {com.cognitect.aws/api {:mvn/version \"0.8.603\"} + com.cognitect.aws/endpoints {:mvn/version \"1.1.12.321\"} com.cognitect.aws/s3 {:mvn/version \"822.2.1145.0\"}}} ``` @@ -201,11 +204,16 @@ and before it checks your aws configuration. ## Endpoint Override -Most of the time you can create a client and it figures out the correct endpoint for you, -but there are exceptions. You may want to use a proxy server or connect to a local dynamodb, -or perhaps you've found a bug that you could work around if you could supply the correct -endpoint. All of this can be accomplished by supplying an `:endpoint-override` map -to the `client` constructor: +Most of the time you can create a client and it figures out the correct endpoint for you. The +endpoints of most AWS API operations adhere to the pattern documented in [AWS Regions and +Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html). But there are exceptions. + +* Some AWS APIs have operations which require custom endpoints (e.g. Kinesis Video [GetMedia](https://docs.aws.amazon.com/kinesisvideostreams/latest/dg/API_dataplane_GetMedia.html)). +* You may want to use a proxy server or connect to a local dynamodb. +* Perhaps you've found a bug that you could work around if you could supply the correct endpoint. + +All of this can be accomplished by supplying an `:endpoint-override` map to the `client` +constructor: ``` clojure (def ddb (aws/client {:api :dynamodb @@ -261,11 +269,13 @@ patches. `aws-api` was extracted from an internal project at Cognitect, and some contributors are missing from the commit log. Here are all the -folks from Cognitect who either committed code directly, or +folks from Cognitect and Nubank who either committed code directly, or contributed significantly to research and design: [Timothy Baldridge](https://github.com/halgari)<br/> +[Scott Bale](https://github.com/scottbale)<br/> [David Chelimsky](https://github.com/dchelimsky)<br/> +[Maria Clara Crespo](https://github.com/mariaclaracrespo)<br/> [Benoît Fleury](https://github.com/benfle)<br/> [Fogus](https://github.com/fogus)<br/> [Stuart Halloway](https://github.com/stuarthalloway)<br/> @@ -362,7 +372,7 @@ function bound to the `:backoff` key when you create a client. :backoff (fn [n-tries-so-far] ,,)}) ``` -Don't forget to account for termination by retuning nil after some number of retries. +Don't forget to account for termination by returning nil after some number of retries. You an also use `cognitect.aws.retry/capped-exponential-backoff` to generate a function with different values for base, max-backoff, and @@ -373,7 +383,7 @@ max-retries, and then pass that to `client`. This indicates that the configured endpoint is incorrect for the service/op you are trying to perform. -Remedy: check [AWS Regions and Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html) +Remedy: check [AWS Regions and Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html) for the proper endpoint and use the `:endpoint-override` key when creating a client, e.g. @@ -383,6 +393,27 @@ e.g. :endpoint-override {:hostname (str my-account-id \".s3-control.us-east-1.amazonaws.com\")}}) ``` +### UnknownOperationException + +AWS will return an `UnknownOperationException` response when a client is configured with (or defaults to) an incorrect endpoint. + +Remedy: check [AWS Regions and Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html) for +the proper endpoint and use the `:endpoint-override` key when creating a client. + +Note that some AWS APIs have custom endpoint requirements. For example, Kinesis Video [Get +Media](https://docs.aws.amazon.com/kinesisvideostreams/latest/dg/API_dataplane_GetMedia.html) +operation requires a custom endpoint, e.g. + +``` clojure +(def kvs (aws/client {:api :kinesisvideo ... })) + +(def kvs-endpoint (:DataEndpoint (aws/invoke kvs {:op :GetDataEndpoint ... }))) + +(aws/client {:api :kinesis-video-media + :region \"us-east-1\" + :endpoint-override {:hostname (str/replace kvs-endpoint #\"https://\" \"\")}}) +``` + ### No known endpoint. This indicates that the data in the `com.cognitect.aws/endpoints` lib diff --git a/deps.edn b/deps.edn index 11b874f..1339b33 100644 --- a/deps.edn +++ b/deps.edn @@ -17,7 +17,7 @@ http-kit/http-kit {:mvn/version \"2.6.0\"} com.cognitect.aws/endpoints {:mvn/version \"1.1.12.280\"} com.cognitect.aws/s3 {:mvn/version \"822.2.1145.0\"}}} - :test {:extra-deps {io.github.cognitect-labs/test-runner {:git/tag \"v0.5.0\" :git/sha \"b3fd0d2\"}} + :test {:extra-deps {io.github.cognitect-labs/test-runner {:git/tag \"v0.5.1\" :git/sha \"dfb30dd\"}} :main-opts [\"-m\" \"cognitect.test-runner\"]} :examples {:extra-paths [\"examples\" \"examples/resources\" \"dev/resources\"] :extra-deps {com.cognitect.aws/dynamodb {:mvn/version \"822.2.1171.0\"} diff --git a/examples/README.md b/examples/README.md index 6a5c499..0ccaaa6 100644 --- a/examples/README.md +++ b/examples/README.md @@ -5,7 +5,7 @@ clone this repo and start a repl in your preferred environment using the deps.edn in the project root, e.g. ``` -clj -A:examples +clj -A:dev:examples ``` Then you can open any of the xxx_examples.clj files and start evaluating forms. diff --git a/examples/deps.edn b/examples/deps.edn deleted file mode 100644 index 623dd86..0000000 --- a/examples/deps.edn +++ /dev/null @@ -1,10 +0,0 @@ -{:deps {com.cognitect.aws/api {:mvn/version \"0.8.391\" - :exclusions [org.slf4j/slf4j-log4j12]} - com.cognitect.aws/dynamodb {:mvn/version \"746.2.533.0\"} - com.cognitect.aws/ec2 {:mvn/version \"759.2.556.0\"} - com.cognitect.aws/endpoints {:mvn/version \"1.1.11.664\"} - com.cognitect.aws/logs {:mvn/version \"747.2.533.0\"} - com.cognitect.aws/autoscaling {:mvn/version \"770.2.568.0\"} - com.cognitect.aws/cloudformation {:mvn/version \"746.2.533.0\"} - com.cognitect.aws/s3 {:mvn/version \"762.2.558.0\"} - com.cognitect.aws/resourcegroupstaggingapi {:mvn/version \"747.2.533.0\"}}} diff --git a/latest-releases.edn b/latest-releases.edn index 0b9307f..264297c 100644 --- a/latest-releases.edn +++ b/latest-releases.edn @@ -1,5 +1,5 @@ -{com.cognitect.aws/api {:mvn/version \"0.8.596\"}, - com.cognitect.aws/endpoints {:mvn/version \"1.1.12.307\"}, +{com.cognitect.aws/api {:mvn/version \"0.8.603\"}, + com.cognitect.aws/endpoints {:mvn/version \"1.1.12.321\"}, com.cognitect.aws/AWS242AppRegistry {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Service Catalog App Registry\"}, com.cognitect.aws/AWSApplicationCostProfiler @@ -7,10 +7,10 @@ com.cognitect.aws/AWSMigrationHub {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Migration Hub\"}, com.cognitect.aws/accessanalyzer - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Access Analyzer\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Access Analyzer\"}, com.cognitect.aws/account {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Account\"}, com.cognitect.aws/acm - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Certificate Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Certificate Manager\"}, com.cognitect.aws/acm-pca {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Certificate Manager Private Certificate Authority\"}, @@ -22,7 +22,7 @@ com.cognitect.aws/amplifybackend {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AmplifyBackend\"}, com.cognitect.aws/amplifyuibuilder - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Amplify UI Builder\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Amplify UI Builder\"}, com.cognitect.aws/apigateway {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon API Gateway\"}, com.cognitect.aws/apigatewaymanagementapi @@ -33,7 +33,7 @@ {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon AppConfig\"}, com.cognitect.aws/appconfigdata {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS AppConfig Data\"}, - com.cognitect.aws/appflow {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Appflow\"}, + com.cognitect.aws/appflow {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Appflow\"}, com.cognitect.aws/appintegrations {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon AppIntegrations Service\"}, com.cognitect.aws/application-autoscaling @@ -41,7 +41,7 @@ com.cognitect.aws/application-insights {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon CloudWatch Application Insights\"}, com.cognitect.aws/appmesh {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS App Mesh\"}, - com.cognitect.aws/apprunner {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS App Runner\"}, + com.cognitect.aws/apprunner {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS App Runner\"}, com.cognitect.aws/appstream {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon AppStream\"}, com.cognitect.aws/appsync {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS AppSync\"}, @@ -53,7 +53,7 @@ {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Auto Scaling Plans\"}, com.cognitect.aws/backup {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Backup\"}, com.cognitect.aws/backup-gateway - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Backup Gateway\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Backup Gateway\"}, com.cognitect.aws/backupstorage {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Backup Storage\"}, com.cognitect.aws/batch {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Batch\"}, @@ -62,7 +62,7 @@ com.cognitect.aws/braket {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Braket\"}, com.cognitect.aws/budgets {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Budgets\"}, com.cognitect.aws/ce - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Cost Explorer Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Cost Explorer Service\"}, com.cognitect.aws/chime {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Chime\"}, com.cognitect.aws/chime-sdk-identity {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Chime SDK Identity\"}, @@ -92,9 +92,9 @@ com.cognitect.aws/codeartifact {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"CodeArtifact\"}, com.cognitect.aws/codebuild {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS CodeBuild\"}, com.cognitect.aws/codecommit {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS CodeCommit\"}, - com.cognitect.aws/codedeploy {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS CodeDeploy\"}, + com.cognitect.aws/codedeploy {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS CodeDeploy\"}, com.cognitect.aws/codeguru-reviewer - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon CodeGuru Reviewer\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon CodeGuru Reviewer\"}, com.cognitect.aws/codeguruprofiler {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon CodeGuru Profiler\"}, com.cognitect.aws/codepipeline @@ -111,24 +111,26 @@ com.cognitect.aws/cognito-sync {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Cognito Sync\"}, com.cognitect.aws/comprehend - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Comprehend\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Comprehend\"}, com.cognitect.aws/comprehendmedical {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Comprehend Medical\"}, com.cognitect.aws/compute-optimizer {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Compute Optimizer\"}, com.cognitect.aws/config {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Config\"}, com.cognitect.aws/connect - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Connect Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Connect Service\"}, com.cognitect.aws/connect-contact-lens {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Connect Contact Lens\"}, com.cognitect.aws/connectcampaigns {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AmazonConnectCampaignService\"}, + com.cognitect.aws/connectcases + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Connect Cases\"}, com.cognitect.aws/connectparticipant {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Connect Participant Service\"}, com.cognitect.aws/controltower {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Control Tower\"}, com.cognitect.aws/cur - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Cost and Usage Report Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Cost and Usage Report Service\"}, com.cognitect.aws/customer-profiles {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Connect Customer Profiles\"}, com.cognitect.aws/databrew @@ -143,17 +145,17 @@ com.cognitect.aws/detective {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Detective\"}, com.cognitect.aws/devicefarm - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Device Farm\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Device Farm\"}, com.cognitect.aws/devices {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS IoT 1-Click Devices Service\"}, com.cognitect.aws/devops-guru - {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon DevOps Guru\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon DevOps Guru\"}, com.cognitect.aws/directconnect {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Direct Connect\"}, com.cognitect.aws/discovery {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Application Discovery Service\"}, com.cognitect.aws/dlm - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Data Lifecycle Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Data Lifecycle Manager\"}, com.cognitect.aws/dms {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Database Migration Service\"}, com.cognitect.aws/docdb @@ -161,12 +163,12 @@ :aws/serviceFullName \"Amazon DocumentDB with MongoDB compatibility\"}, com.cognitect.aws/drs {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Elastic Disaster Recovery Service\"}, - com.cognitect.aws/ds {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Directory Service\"}, + com.cognitect.aws/ds {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Directory Service\"}, com.cognitect.aws/dynamodb {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon DynamoDB\"}, com.cognitect.aws/ebs {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Elastic Block Store\"}, com.cognitect.aws/ec2 - {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon Elastic Compute Cloud\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Elastic Compute Cloud\"}, com.cognitect.aws/ec2-instance-connect {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS EC2 Instance Connect\"}, com.cognitect.aws/ecr @@ -174,7 +176,7 @@ com.cognitect.aws/ecr-public {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Elastic Container Registry Public\"}, com.cognitect.aws/ecs - {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon EC2 Container Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon EC2 Container Service\"}, com.cognitect.aws/eks {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Elastic Kubernetes Service\"}, com.cognitect.aws/elastic-inference @@ -188,7 +190,7 @@ com.cognitect.aws/elasticloadbalancing {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Elastic Load Balancing\"}, com.cognitect.aws/elasticloadbalancingv2 - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Elastic Load Balancing\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Elastic Load Balancing\"}, com.cognitect.aws/elasticmapreduce {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon EMR\"}, com.cognitect.aws/elastictranscoder @@ -198,7 +200,7 @@ com.cognitect.aws/emr-containers {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon EMR Containers\"}, com.cognitect.aws/emr-serverless - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"EMR Serverless\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"EMR Serverless\"}, com.cognitect.aws/entitlement-marketplace {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Marketplace Entitlement Service\"}, com.cognitect.aws/es @@ -223,22 +225,22 @@ {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Forecast Query Service\"}, com.cognitect.aws/frauddetector {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon Fraud Detector\"}, - com.cognitect.aws/fsx {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon FSx\"}, + com.cognitect.aws/fsx {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon FSx\"}, com.cognitect.aws/gamelift {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon GameLift\"}, com.cognitect.aws/gamesparks {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"GameSparks\"}, com.cognitect.aws/glacier {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Glacier\"}, com.cognitect.aws/globalaccelerator {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Global Accelerator\"}, - com.cognitect.aws/glue {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Glue\"}, + com.cognitect.aws/glue {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Glue\"}, com.cognitect.aws/grafana {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Managed Grafana\"}, com.cognitect.aws/greengrass {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Greengrass\"}, com.cognitect.aws/greengrassv2 - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS IoT Greengrass V2\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS IoT Greengrass V2\"}, com.cognitect.aws/groundstation {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Ground Station\"}, com.cognitect.aws/guardduty - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon GuardDuty\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon GuardDuty\"}, com.cognitect.aws/health {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Health APIs and Notifications\"}, com.cognitect.aws/healthlake @@ -246,9 +248,9 @@ com.cognitect.aws/honeycode {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Honeycode\"}, com.cognitect.aws/iam - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Identity and Access Management\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Identity and Access Management\"}, com.cognitect.aws/identitystore - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS SSO Identity Store\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS SSO Identity Store\"}, com.cognitect.aws/imagebuilder {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"EC2 Image Builder\"}, com.cognitect.aws/importexport @@ -272,6 +274,8 @@ {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS IoT Events Data\"}, com.cognitect.aws/iotfleethub {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS IoT Fleet Hub\"}, + com.cognitect.aws/iotfleetwise + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS IoT FleetWise\"}, com.cognitect.aws/iotsecuretunneling {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS IoT Secure Tunneling\"}, com.cognitect.aws/iotsitewise @@ -291,7 +295,7 @@ com.cognitect.aws/kafkaconnect {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Managed Streaming for Kafka Connect\"}, com.cognitect.aws/kendra - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWSKendraFrontendService\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWSKendraFrontendService\"}, com.cognitect.aws/keyspaces {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Keyspaces\"}, com.cognitect.aws/kinesis {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Kinesis\"}, @@ -319,9 +323,9 @@ com.cognitect.aws/license-manager-user-subscriptions {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS License Manager User Subscriptions\"}, com.cognitect.aws/lightsail - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Lightsail\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Lightsail\"}, com.cognitect.aws/location - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Location Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Location Service\"}, com.cognitect.aws/logs {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon CloudWatch Logs\"}, com.cognitect.aws/lookoutequipment @@ -345,13 +349,13 @@ com.cognitect.aws/mediaconnect {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"AWS MediaConnect\"}, com.cognitect.aws/mediaconvert - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Elemental MediaConvert\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Elemental MediaConvert\"}, com.cognitect.aws/medialive - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Elemental MediaLive\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Elemental MediaLive\"}, com.cognitect.aws/mediapackage {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Elemental MediaPackage\"}, com.cognitect.aws/mediapackage-vod - {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"AWS Elemental MediaPackage VOD\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Elemental MediaPackage VOD\"}, com.cognitect.aws/mediastore {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Elemental MediaStore\"}, com.cognitect.aws/mediastore-data @@ -367,13 +371,15 @@ {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Migration Hub Refactor Spaces\"}, com.cognitect.aws/migrationhub-config {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Migration Hub Config\"}, + com.cognitect.aws/migrationhuborchestrator + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Migration Hub Orchestrator\"}, com.cognitect.aws/migrationhubstrategy {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Migration Hub Strategy Recommendations\"}, com.cognitect.aws/mobile {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Mobile\"}, com.cognitect.aws/mobileanalytics {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Mobile Analytics\"}, com.cognitect.aws/models-lex-v2 - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Lex Model Building V2\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Lex Model Building V2\"}, com.cognitect.aws/monitoring {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon CloudWatch\"}, com.cognitect.aws/mq {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"AmazonMQ\"}, @@ -382,10 +388,10 @@ com.cognitect.aws/mwaa {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AmazonMWAA\"}, com.cognitect.aws/neptune {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon Neptune\"}, com.cognitect.aws/network-firewall - {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Network Firewall\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Network Firewall\"}, com.cognitect.aws/networkmanager {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Network Manager\"}, - com.cognitect.aws/nimble {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AmazonNimbleStudio\"}, + com.cognitect.aws/nimble {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AmazonNimbleStudio\"}, com.cognitect.aws/opensearch {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon OpenSearch Service\"}, com.cognitect.aws/opsworks {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS OpsWorks\"}, @@ -393,8 +399,8 @@ {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS OpsWorks CM\"}, com.cognitect.aws/organizations {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Organizations\"}, - com.cognitect.aws/outposts {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Outposts\"}, - com.cognitect.aws/panorama {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Panorama\"}, + com.cognitect.aws/outposts {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Outposts\"}, + com.cognitect.aws/panorama {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Panorama\"}, com.cognitect.aws/personalize {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Personalize\"}, com.cognitect.aws/personalize-events @@ -410,24 +416,24 @@ {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Pinpoint SMS and Voice Service\"}, com.cognitect.aws/pinpoint-sms-voice-v2 {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Pinpoint SMS Voice V2\"}, - com.cognitect.aws/polly {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Polly\"}, + com.cognitect.aws/polly {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Polly\"}, com.cognitect.aws/pricing {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Price List Service\"}, com.cognitect.aws/privatenetworks {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Private 5G\"}, - com.cognitect.aws/proton {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Proton\"}, + com.cognitect.aws/proton {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Proton\"}, com.cognitect.aws/qldb {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon QLDB\"}, com.cognitect.aws/qldb-session {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon QLDB Session\"}, com.cognitect.aws/quicksight - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon QuickSight\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon QuickSight\"}, com.cognitect.aws/ram {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Resource Access Manager\"}, com.cognitect.aws/rbin {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Recycle Bin\"}, com.cognitect.aws/rds {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon Relational Database Service\"}, com.cognitect.aws/rds-data - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS RDS DataService\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS RDS DataService\"}, com.cognitect.aws/redshift {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Redshift\"}, com.cognitect.aws/redshift-data {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Redshift Data API Service\"}, @@ -436,7 +442,7 @@ com.cognitect.aws/rekognition {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Rekognition\"}, com.cognitect.aws/resiliencehub - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Resilience Hub\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Resilience Hub\"}, com.cognitect.aws/resource-groups {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Resource Groups\"}, com.cognitect.aws/resourcegroupstaggingapi @@ -461,14 +467,14 @@ com.cognitect.aws/runtime-lex-v2 {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Lex Runtime V2\"}, com.cognitect.aws/runtime-sagemaker - {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon SageMaker Runtime\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon SageMaker Runtime\"}, com.cognitect.aws/s3 {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Simple Storage Service\"}, - com.cognitect.aws/s3control {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS S3 Control\"}, + com.cognitect.aws/s3control {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS S3 Control\"}, com.cognitect.aws/s3outposts {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon S3 on Outposts\"}, com.cognitect.aws/sagemaker - {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon SageMaker Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon SageMaker Service\"}, com.cognitect.aws/sagemaker-a2i-runtime {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Augmented AI Runtime\"}, com.cognitect.aws/sagemaker-edge @@ -480,7 +486,7 @@ com.cognitect.aws/schemas {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Schemas\"}, com.cognitect.aws/sdb {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon SimpleDB\"}, com.cognitect.aws/secretsmanager - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Secrets Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Secrets Manager\"}, com.cognitect.aws/securityhub {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS SecurityHub\"}, com.cognitect.aws/serverlessrepo @@ -500,22 +506,22 @@ com.cognitect.aws/snow-device-management {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Snow Device Management\"}, com.cognitect.aws/snowball - {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Import/Export Snowball\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Import/Export Snowball\"}, com.cognitect.aws/sns {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Simple Notification Service\"}, com.cognitect.aws/sqs {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Simple Queue Service\"}, com.cognitect.aws/ssm - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Simple Systems Manager (SSM)\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Simple Systems Manager (SSM)\"}, com.cognitect.aws/ssm-contacts {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Systems Manager Incident Manager Contacts\"}, com.cognitect.aws/ssm-incidents - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Systems Manager Incident Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Systems Manager Incident Manager\"}, com.cognitect.aws/sso {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Single Sign-On\"}, com.cognitect.aws/sso-admin {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Single Sign-On Admin\"}, - com.cognitect.aws/sso-oidc {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS SSO OIDC\"}, + com.cognitect.aws/sso-oidc {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS SSO OIDC\"}, com.cognitect.aws/states {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Step Functions\"}, com.cognitect.aws/storagegateway {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"AWS Storage Gateway\"}, @@ -537,25 +543,25 @@ com.cognitect.aws/transcribe {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon Transcribe Service\"}, com.cognitect.aws/transfer - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Transfer Family\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Transfer Family\"}, com.cognitect.aws/translate - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon Translate\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Translate\"}, com.cognitect.aws/voice-id {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Voice ID\"}, com.cognitect.aws/waf {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS WAF\"}, com.cognitect.aws/waf-regional {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS WAF Regional\"}, - com.cognitect.aws/wafv2 {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS WAFV2\"}, + com.cognitect.aws/wafv2 {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS WAFV2\"}, com.cognitect.aws/wellarchitected {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Well-Architected Tool\"}, com.cognitect.aws/wisdom - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Connect Wisdom Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Connect Wisdom Service\"}, com.cognitect.aws/workdocs {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon WorkDocs\"}, com.cognitect.aws/worklink {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"Amazon WorkLink\"}, - com.cognitect.aws/workmail {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon WorkMail\"}, + com.cognitect.aws/workmail {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon WorkMail\"}, com.cognitect.aws/workmailmessageflow {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon WorkMail Message Flow\"}, com.cognitect.aws/workspaces - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon WorkSpaces\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon WorkSpaces\"}, com.cognitect.aws/workspaces-web {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon WorkSpaces Web\"}, com.cognitect.aws/xray {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS X-Ray\"}} diff --git a/src/cognitect/aws/client/api.clj b/src/cognitect/aws/client/api.clj index b7cc0ce..afcd227 100644 --- a/src/cognitect/aws/client/api.clj +++ b/src/cognitect/aws/client/api.clj @@ -41,11 +41,11 @@ :hostname - string :port - int :path - string - If the hostname includes an AWS region, be sure use the same + If the hostname includes an AWS region, be sure to use the same region for the client (either via out of process configuration or the :region key supplied to this fn). Also supports a string representing just the hostname, though - support for a string is deprectated and may be removed in the + support for a string is deprecated and may be removed in the future. :retriable? - optional, predicate fn of http-response (see cognitect.aws.http/submit), which should return a truthy value if the request is @@ -121,6 +121,9 @@ After invoking (cognitect.aws.client.api/validate-requests true), validates :request in op-map. + + See https://github.com/cognitect-labs/aws-api/blob/main/doc/types.md for a + mapping of AWS types to Clojure/java types. Alpha. Subject to change.\" [client op-map] @@ -229,6 +232,9 @@ (defn doc \"Given a client and an operation (keyword), prints documentation for that operation to the current value of *out*. Returns nil. + + See https://github.com/cognitect-labs/aws-api/blob/main/doc/types.md for a + mapping of AWS types to Clojure/java types. Alpha. Subject to change.\" [client operation] diff --git a/src/cognitect/aws/client/impl.clj b/src/cognitect/aws/client/impl.clj index ff582e2..4eeef77 100644 --- a/src/cognitect/aws/client/impl.clj +++ b/src/cognitect/aws/client/impl.clj @@ -22,11 +22,13 @@ ;; TODO convey throwable back from impl (defn ^:private handle-http-response - [service op-map http-response] + [service op-map {:keys [status] :as http-response}] (try (if (:cognitect.anomalies/category http-response) http-response - (aws.protocols/parse-http-response service op-map http-response)) + (if (< status 400) + (aws.protocols/parse-http-response service op-map http-response) + (aws.protocols/parse-http-error-response http-response))) (catch Throwable t {:cognitect.anomalies/category :cognitect.anomalies/fault ::throwable t}))) diff --git a/src/cognitect/aws/protocols.clj b/src/cognitect/aws/protocols.clj index c6f9c30..752b1db 100644 --- a/src/cognitect/aws/protocols.clj +++ b/src/cognitect/aws/protocols.clj @@ -44,15 +44,21 @@ (contains? #{\"query\" \"ec2\"} protocol) (assoc \"content-type\" \"application/x-www-form-urlencoded; charset=utf-8\")))) -(defn parse-error* - [{:keys [status] :as http-response} response-body] - (with-meta (assoc response-body :cognitect.anomalies/category (status-code->anomaly status)) - http-response)) - -(defn xml-parse-error - [{:keys [body] :as http-response}] - (parse-error* http-response (some-> body util/bbuf->str util/xml-read util/xml->map))) +(defn- parse-encoded-string* + \"Given non-nil String, determine the encoding (currently either XML or JSON). Return a Map + representation of the encoded data.\" + [encoded-str] + (if (= < (first encoded-str)) + (-> encoded-str util/xml-read util/xml->map) + (-> encoded-str (json/read-str :key-fn keyword)))) -(defn json-parse-error - [{:keys [body] :as http-response}] - (parse-error* http-response (some-> body util/bbuf->str (json/read-str :key-fn keyword)))) +(defn parse-http-error-response + \"Given an http error response (any status code 400 or above), return an aws-api-specific response + Map.\" + [{:keys [status body] :as http-response}] + (with-meta + (assoc + (some-> body util/bbuf->str parse-encoded-string*) + :cognitect.anomalies/category + (status-code->anomaly status)) + http-response)) diff --git a/src/cognitect/aws/protocols/json.clj b/src/cognitect/aws/protocols/json.clj index f9b33d6..08f6614 100644 --- a/src/cognitect/aws/protocols/json.clj +++ b/src/cognitect/aws/protocols/json.clj @@ -34,14 +34,10 @@ :body (serialize input-shape (or request {}))})) (defmethod aws.protocols/parse-http-response \"json\" - [service {:keys [op]} {:keys [status body] :as http-response}] - (if (:cognitect.anomalies/category http-response) - http-response - (let [operation (get-in service [:operations op]) - output-shape (service/shape service (:output operation)) - body-str (util/bbuf->str body)] - (if (< status 400) - (if output-shape - (shape/json-parse output-shape body-str) - {}) - (aws.protocols/json-parse-error http-response))))) + [service {:keys [op]} {:keys [body]}] + (let [operation (get-in service [:operations op]) + output-shape (service/shape service (:output operation)) + body-str (util/bbuf->str body)] + (if output-shape + (shape/json-parse output-shape body-str) + {}))) diff --git a/src/cognitect/aws/protocols/query.clj b/src/cognitect/aws/protocols/query.clj index bc1d6fd..1141846 100644 --- a/src/cognitect/aws/protocols/query.clj +++ b/src/cognitect/aws/protocols/query.clj @@ -102,15 +102,11 @@ (build-query-http-request serialize service req-map)) (defn build-query-http-response - [service {:keys [op]} {:keys [status body] :as http-response}] + [service {:keys [op]} {:keys [body]}] (let [operation (get-in service [:operations op])] - (if (:cognitect.anomalies/category http-response) - http-response - (if (< status 400) - (if-let [output-shape (service/shape service (:output operation))] - (shape/xml-parse output-shape (util/bbuf->str body)) - (util/xml->map (util/xml-read (util/bbuf->str body)))) - (aws.protocols/xml-parse-error http-response))))) + (if-let [output-shape (service/shape service (:output operation))] + (shape/xml-parse output-shape (util/bbuf->str body)) + (util/xml->map (util/xml-read (util/bbuf->str body)))))) (defmethod aws.protocols/parse-http-response \"query\" [service op-map http-response] diff --git a/src/cognitect/aws/protocols/rest.clj b/src/cognitect/aws/protocols/rest.clj index 7197922..7e4b73e 100644 --- a/src/cognitect/aws/protocols/rest.clj +++ b/src/cognitect/aws/protocols/rest.clj @@ -248,15 +248,10 @@ (parse-fn output-shape body-str))))) (defn parse-http-response - [service {:keys [op]} {:keys [status body] :as http-response} - parse-body-str - parse-error] - (if (:cognitect.anomalies/category http-response) - http-response - (let [operation (get-in service [:operations op]) - output-shape (service/shape service (:output operation))] - (if (< status 400) - (merge (parse-non-payload-attrs output-shape http-response) - (when output-shape - (parse-body output-shape body parse-body-str))) - (parse-error http-response))))) + [service {:keys [op]} {:keys [body] :as http-response} + parse-body-str] + (let [operation (get-in service [:operations op]) + output-shape (service/shape service (:output operation))] + (merge (parse-non-payload-attrs output-shape http-response) + (when output-shape + (parse-body output-shape body parse-body-str))))) diff --git a/src/cognitect/aws/protocols/rest_json.clj b/src/cognitect/aws/protocols/rest_json.clj index 4fa67cb..f5de971 100644 --- a/src/cognitect/aws/protocols/rest_json.clj +++ b/src/cognitect/aws/protocols/rest_json.clj @@ -41,5 +41,4 @@ (rest/parse-http-response service op-map http-response - shape/json-parse - aws.protocols/json-parse-error)) + shape/json-parse)) diff --git a/src/cognitect/aws/protocols/rest_xml.clj b/src/cognitect/aws/protocols/rest_xml.clj index 2ba5e6d..651afe5 100644 --- a/src/cognitect/aws/protocols/rest_xml.clj +++ b/src/cognitect/aws/protocols/rest_xml.clj @@ -26,5 +26,4 @@ (rest/parse-http-response service op-map http-response - shape/xml-parse - aws.protocols/xml-parse-error)) + shape/xml-parse)) diff --git a/test/src/cognitect/aws/protocols_test.clj b/test/src/cognitect/aws/protocols_test.clj index 57efbf3..989c91b 100644 --- a/test/src/cognitect/aws/protocols_test.clj +++ b/test/src/cognitect/aws/protocols_test.clj @@ -17,7 +17,8 @@ [cognitect.aws.protocols.rest-json] [cognitect.aws.protocols.rest-xml] [cognitect.aws.util :as util]) - (:import (java.util Date))) + (:import (java.nio ByteBuffer) + (java.util Date))) (s/fdef cognitect.aws.util/query-string :args (s/cat :params (s/or :seq (s/coll-of (s/cat :key (s/or :kw simple-keyword? :str string?) @@ -434,5 +435,33 @@ \"rest-json\"]] (test-protocol protocol)))) +(deftest test-parse-http-error-response + (testing \"parse JSON-encoded error response body\" + (let [response {:status 401 + :body (ByteBuffer/wrap (.getBytes \"{\"FOO\": \"abc\"}\" \"UTF-8\"))} + parsed-response (aws.protocols/parse-http-error-response response)] + (is (= {:FOO \"abc\" :cognitect.anomalies/category :cognitect.anomalies/incorrect} + parsed-response)) + (testing \"http response is included as metadata on returned parsed error response\" + (is (= response (meta parsed-response)))))) + (testing \"parse XML-encoded response body - issue 218: AWS returns XML-encoded 404 response when JSON-encoding was expected\" + (let [response {:status 404 + :body (ByteBuffer/wrap (.getBytes \"<UnknownOperationException/>\" \"UTF-8\"))} + parsed-response (aws.protocols/parse-http-error-response response)] + (is (= {:UnknownOperationException nil + :UnknownOperationExceptionAttrs {} + :cognitect.anomalies/category :cognitect.anomalies/not-found} + parsed-response)) + (testing \"http response is included as metadata on returned parsed error response\" + (is (= response (meta parsed-response)))))) + (testing \"parse response with empty body\" + (let [response {:status 404 + :body nil} + parsed-response (aws.protocols/parse-http-error-response response)] + (is (= {:cognitect.anomalies/category :cognitect.anomalies/not-found} + parsed-response)) + (testing \"http response is included as metadata on returned parsed error response\" + (is (= response (meta parsed-response))))))) + (comment (t/run-tests)) ", "completion": "latest releases "}
{"prompt": "diff --git a/CHANGES.md b/CHANGES.md index bd93dad..027a175 100644 --- a/CHANGES.md +++ b/CHANGES.md @@ -1,5 +1,9 @@ # aws-api +## 0.8.603 / 2022-10-11 + +* parse XML error messages from AWS even when we ask for JSON [#174](https://github.com/cognitect-labs/aws-api/issues/174) + ## 0.8.596 / 2022-09-16 CHANGES.md LICENSE README.md UPGRADE.md VERSION_PREFIX build deps.edn dev doc examples latest-releases.edn pom.xml resources src test upgrade to org.clojure/data.xml 0.2.0-alpha8. Fixes parsing issue [#205](https://github.com/cognitect-labs/aws-api/issues/205) diff --git a/README.md b/README.md index d0c5a19..8953de8 100644 --- a/README.md +++ b/README.md @@ -3,7 +3,10 @@ aws-api is a Clojure library which provides programmatic access to AWS services from your Clojure program. -* [API Docs](https://cognitect-labs.github.io/aws-api/) +## Docs + +* [API](https://cognitect-labs.github.io/aws-api/) +* [Data types for :request maps](https://github.com/cognitect-labs/aws-api/blob/main/doc/types.md) ## Rationale @@ -70,8 +73,8 @@ of your choice, e.g. `com.cognitect.aws/s3`. To use, for example, the s3 api, add the following to deps.edn ``` clojure -{:deps {com.cognitect.aws/api {:mvn/version \"0.8.596\"} - com.cognitect.aws/endpoints {:mvn/version \"1.1.12.303\"} +{:deps {com.cognitect.aws/api {:mvn/version \"0.8.603\"} + com.cognitect.aws/endpoints {:mvn/version \"1.1.12.321\"} com.cognitect.aws/s3 {:mvn/version \"822.2.1145.0\"}}} ``` @@ -201,11 +204,16 @@ and before it checks your aws configuration. ## Endpoint Override -Most of the time you can create a client and it figures out the correct endpoint for you, -but there are exceptions. You may want to use a proxy server or connect to a local dynamodb, -or perhaps you've found a bug that you could work around if you could supply the correct -endpoint. All of this can be accomplished by supplying an `:endpoint-override` map -to the `client` constructor: +Most of the time you can create a client and it figures out the correct endpoint for you. The +endpoints of most AWS API operations adhere to the pattern documented in [AWS Regions and +Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html). But there are exceptions. + +* Some AWS APIs have operations which require custom endpoints (e.g. Kinesis Video [GetMedia](https://docs.aws.amazon.com/kinesisvideostreams/latest/dg/API_dataplane_GetMedia.html)). +* You may want to use a proxy server or connect to a local dynamodb. +* Perhaps you've found a bug that you could work around if you could supply the correct endpoint. + +All of this can be accomplished by supplying an `:endpoint-override` map to the `client` +constructor: ``` clojure (def ddb (aws/client {:api :dynamodb @@ -261,11 +269,13 @@ patches. `aws-api` was extracted from an internal project at Cognitect, and some contributors are missing from the commit log. Here are all the -folks from Cognitect who either committed code directly, or +folks from Cognitect and Nubank who either committed code directly, or contributed significantly to research and design: [Timothy Baldridge](https://github.com/halgari)<br/> +[Scott Bale](https://github.com/scottbale)<br/> [David Chelimsky](https://github.com/dchelimsky)<br/> +[Maria Clara Crespo](https://github.com/mariaclaracrespo)<br/> [Benoît Fleury](https://github.com/benfle)<br/> [Fogus](https://github.com/fogus)<br/> [Stuart Halloway](https://github.com/stuarthalloway)<br/> @@ -362,7 +372,7 @@ function bound to the `:backoff` key when you create a client. :backoff (fn [n-tries-so-far] ,,)}) ``` -Don't forget to account for termination by retuning nil after some number of retries. +Don't forget to account for termination by returning nil after some number of retries. You an also use `cognitect.aws.retry/capped-exponential-backoff` to generate a function with different values for base, max-backoff, and @@ -373,7 +383,7 @@ max-retries, and then pass that to `client`. This indicates that the configured endpoint is incorrect for the service/op you are trying to perform. -Remedy: check [AWS Regions and Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html) +Remedy: check [AWS Regions and Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html) for the proper endpoint and use the `:endpoint-override` key when creating a client, e.g. @@ -383,6 +393,27 @@ e.g. :endpoint-override {:hostname (str my-account-id \".s3-control.us-east-1.amazonaws.com\")}}) ``` +### UnknownOperationException + +AWS will return an `UnknownOperationException` response when a client is configured with (or defaults to) an incorrect endpoint. + +Remedy: check [AWS Regions and Endpoints](https://docs.aws.amazon.com/general/latest/gr/rande.html) for +the proper endpoint and use the `:endpoint-override` key when creating a client. + +Note that some AWS APIs have custom endpoint requirements. For example, Kinesis Video [Get +Media](https://docs.aws.amazon.com/kinesisvideostreams/latest/dg/API_dataplane_GetMedia.html) +operation requires a custom endpoint, e.g. + +``` clojure +(def kvs (aws/client {:api :kinesisvideo ... })) + +(def kvs-endpoint (:DataEndpoint (aws/invoke kvs {:op :GetDataEndpoint ... }))) + +(aws/client {:api :kinesis-video-media + :region \"us-east-1\" + :endpoint-override {:hostname (str/replace kvs-endpoint #\"https://\" \"\")}}) +``` + ### No known endpoint. This indicates that the data in the `com.cognitect.aws/endpoints` lib diff --git a/deps.edn b/deps.edn index 11b874f..1339b33 100644 --- a/deps.edn +++ b/deps.edn @@ -17,7 +17,7 @@ http-kit/http-kit {:mvn/version \"2.6.0\"} com.cognitect.aws/endpoints {:mvn/version \"1.1.12.280\"} com.cognitect.aws/s3 {:mvn/version \"822.2.1145.0\"}}} - :test {:extra-deps {io.github.cognitect-labs/test-runner {:git/tag \"v0.5.0\" :git/sha \"b3fd0d2\"}} + :test {:extra-deps {io.github.cognitect-labs/test-runner {:git/tag \"v0.5.1\" :git/sha \"dfb30dd\"}} :main-opts [\"-m\" \"cognitect.test-runner\"]} :examples {:extra-paths [\"examples\" \"examples/resources\" \"dev/resources\"] :extra-deps {com.cognitect.aws/dynamodb {:mvn/version \"822.2.1171.0\"} diff --git a/examples/README.md b/examples/README.md index 6a5c499..0ccaaa6 100644 --- a/examples/README.md +++ b/examples/README.md @@ -5,7 +5,7 @@ clone this repo and start a repl in your preferred environment using the deps.edn in the project root, e.g. ``` -clj -A:examples +clj -A:dev:examples ``` Then you can open any of the xxx_examples.clj files and start evaluating forms. diff --git a/examples/deps.edn b/examples/deps.edn deleted file mode 100644 index 623dd86..0000000 --- a/examples/deps.edn +++ /dev/null @@ -1,10 +0,0 @@ -{:deps {com.cognitect.aws/api {:mvn/version \"0.8.391\" - :exclusions [org.slf4j/slf4j-log4j12]} - com.cognitect.aws/dynamodb {:mvn/version \"746.2.533.0\"} - com.cognitect.aws/ec2 {:mvn/version \"759.2.556.0\"} - com.cognitect.aws/endpoints {:mvn/version \"1.1.11.664\"} - com.cognitect.aws/logs {:mvn/version \"747.2.533.0\"} - com.cognitect.aws/autoscaling {:mvn/version \"770.2.568.0\"} - com.cognitect.aws/cloudformation {:mvn/version \"746.2.533.0\"} - com.cognitect.aws/s3 {:mvn/version \"762.2.558.0\"} - com.cognitect.aws/resourcegroupstaggingapi {:mvn/version \"747.2.533.0\"}}} diff --git a/latest-releases.edn b/latest-releases.edn index e0b6d36..264297c 100644 --- a/latest-releases.edn +++ b/latest-releases.edn @@ -1,5 +1,5 @@ -{com.cognitect.aws/api {:mvn/version \"0.8.596\"}, - com.cognitect.aws/endpoints {:mvn/version \"1.1.12.303\"}, +{com.cognitect.aws/api {:mvn/version \"0.8.603\"}, + com.cognitect.aws/endpoints {:mvn/version \"1.1.12.321\"}, com.cognitect.aws/AWS242AppRegistry {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Service Catalog App Registry\"}, com.cognitect.aws/AWSApplicationCostProfiler @@ -7,10 +7,10 @@ com.cognitect.aws/AWSMigrationHub {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Migration Hub\"}, com.cognitect.aws/accessanalyzer - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Access Analyzer\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Access Analyzer\"}, com.cognitect.aws/account {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Account\"}, com.cognitect.aws/acm - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Certificate Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Certificate Manager\"}, com.cognitect.aws/acm-pca {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Certificate Manager Private Certificate Authority\"}, @@ -22,7 +22,7 @@ com.cognitect.aws/amplifybackend {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AmplifyBackend\"}, com.cognitect.aws/amplifyuibuilder - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Amplify UI Builder\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Amplify UI Builder\"}, com.cognitect.aws/apigateway {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon API Gateway\"}, com.cognitect.aws/apigatewaymanagementapi @@ -33,7 +33,7 @@ {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon AppConfig\"}, com.cognitect.aws/appconfigdata {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS AppConfig Data\"}, - com.cognitect.aws/appflow {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Appflow\"}, + com.cognitect.aws/appflow {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Appflow\"}, com.cognitect.aws/appintegrations {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon AppIntegrations Service\"}, com.cognitect.aws/application-autoscaling @@ -41,7 +41,7 @@ com.cognitect.aws/application-insights {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon CloudWatch Application Insights\"}, com.cognitect.aws/appmesh {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS App Mesh\"}, - com.cognitect.aws/apprunner {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS App Runner\"}, + com.cognitect.aws/apprunner {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS App Runner\"}, com.cognitect.aws/appstream {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon AppStream\"}, com.cognitect.aws/appsync {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS AppSync\"}, @@ -53,7 +53,7 @@ {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Auto Scaling Plans\"}, com.cognitect.aws/backup {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Backup\"}, com.cognitect.aws/backup-gateway - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Backup Gateway\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Backup Gateway\"}, com.cognitect.aws/backupstorage {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Backup Storage\"}, com.cognitect.aws/batch {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Batch\"}, @@ -62,7 +62,7 @@ com.cognitect.aws/braket {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Braket\"}, com.cognitect.aws/budgets {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Budgets\"}, com.cognitect.aws/ce - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Cost Explorer Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Cost Explorer Service\"}, com.cognitect.aws/chime {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Chime\"}, com.cognitect.aws/chime-sdk-identity {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Chime SDK Identity\"}, @@ -88,13 +88,13 @@ {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon CloudSearch\"}, com.cognitect.aws/cloudsearchdomain {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon CloudSearch Domain\"}, - com.cognitect.aws/cloudtrail {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS CloudTrail\"}, + com.cognitect.aws/cloudtrail {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"AWS CloudTrail\"}, com.cognitect.aws/codeartifact {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"CodeArtifact\"}, com.cognitect.aws/codebuild {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS CodeBuild\"}, com.cognitect.aws/codecommit {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS CodeCommit\"}, - com.cognitect.aws/codedeploy {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS CodeDeploy\"}, + com.cognitect.aws/codedeploy {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS CodeDeploy\"}, com.cognitect.aws/codeguru-reviewer - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon CodeGuru Reviewer\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon CodeGuru Reviewer\"}, com.cognitect.aws/codeguruprofiler {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon CodeGuru Profiler\"}, com.cognitect.aws/codepipeline @@ -103,7 +103,7 @@ com.cognitect.aws/codestar-connections {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS CodeStar connections\"}, com.cognitect.aws/codestar-notifications - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS CodeStar Notifications\"}, + {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"AWS CodeStar Notifications\"}, com.cognitect.aws/cognito-identity {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Cognito Identity\"}, com.cognitect.aws/cognito-idp @@ -111,24 +111,26 @@ com.cognitect.aws/cognito-sync {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Cognito Sync\"}, com.cognitect.aws/comprehend - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Comprehend\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Comprehend\"}, com.cognitect.aws/comprehendmedical {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Comprehend Medical\"}, com.cognitect.aws/compute-optimizer {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Compute Optimizer\"}, com.cognitect.aws/config {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Config\"}, com.cognitect.aws/connect - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Connect Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Connect Service\"}, com.cognitect.aws/connect-contact-lens {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Connect Contact Lens\"}, com.cognitect.aws/connectcampaigns {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AmazonConnectCampaignService\"}, + com.cognitect.aws/connectcases + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Connect Cases\"}, com.cognitect.aws/connectparticipant {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Connect Participant Service\"}, com.cognitect.aws/controltower {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Control Tower\"}, com.cognitect.aws/cur - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Cost and Usage Report Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Cost and Usage Report Service\"}, com.cognitect.aws/customer-profiles {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Connect Customer Profiles\"}, com.cognitect.aws/databrew @@ -143,17 +145,17 @@ com.cognitect.aws/detective {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Detective\"}, com.cognitect.aws/devicefarm - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Device Farm\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Device Farm\"}, com.cognitect.aws/devices {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS IoT 1-Click Devices Service\"}, com.cognitect.aws/devops-guru - {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon DevOps Guru\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon DevOps Guru\"}, com.cognitect.aws/directconnect {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Direct Connect\"}, com.cognitect.aws/discovery {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Application Discovery Service\"}, com.cognitect.aws/dlm - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Data Lifecycle Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Data Lifecycle Manager\"}, com.cognitect.aws/dms {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Database Migration Service\"}, com.cognitect.aws/docdb @@ -161,12 +163,12 @@ :aws/serviceFullName \"Amazon DocumentDB with MongoDB compatibility\"}, com.cognitect.aws/drs {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Elastic Disaster Recovery Service\"}, - com.cognitect.aws/ds {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Directory Service\"}, - com.cognitect.aws/dynamodb {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon DynamoDB\"}, + com.cognitect.aws/ds {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Directory Service\"}, + com.cognitect.aws/dynamodb {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon DynamoDB\"}, com.cognitect.aws/ebs {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Elastic Block Store\"}, com.cognitect.aws/ec2 - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Elastic Compute Cloud\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Elastic Compute Cloud\"}, com.cognitect.aws/ec2-instance-connect {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS EC2 Instance Connect\"}, com.cognitect.aws/ecr @@ -174,7 +176,7 @@ com.cognitect.aws/ecr-public {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Elastic Container Registry Public\"}, com.cognitect.aws/ecs - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon EC2 Container Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon EC2 Container Service\"}, com.cognitect.aws/eks {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Elastic Kubernetes Service\"}, com.cognitect.aws/elastic-inference @@ -188,7 +190,7 @@ com.cognitect.aws/elasticloadbalancing {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Elastic Load Balancing\"}, com.cognitect.aws/elasticloadbalancingv2 - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Elastic Load Balancing\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Elastic Load Balancing\"}, com.cognitect.aws/elasticmapreduce {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon EMR\"}, com.cognitect.aws/elastictranscoder @@ -198,7 +200,7 @@ com.cognitect.aws/emr-containers {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon EMR Containers\"}, com.cognitect.aws/emr-serverless - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"EMR Serverless\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"EMR Serverless\"}, com.cognitect.aws/entitlement-marketplace {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Marketplace Entitlement Service\"}, com.cognitect.aws/es @@ -223,22 +225,22 @@ {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Forecast Query Service\"}, com.cognitect.aws/frauddetector {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon Fraud Detector\"}, - com.cognitect.aws/fsx {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon FSx\"}, + com.cognitect.aws/fsx {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon FSx\"}, com.cognitect.aws/gamelift {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon GameLift\"}, com.cognitect.aws/gamesparks {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"GameSparks\"}, com.cognitect.aws/glacier {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Glacier\"}, com.cognitect.aws/globalaccelerator {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Global Accelerator\"}, - com.cognitect.aws/glue {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Glue\"}, + com.cognitect.aws/glue {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Glue\"}, com.cognitect.aws/grafana {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Managed Grafana\"}, com.cognitect.aws/greengrass {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Greengrass\"}, com.cognitect.aws/greengrassv2 - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS IoT Greengrass V2\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS IoT Greengrass V2\"}, com.cognitect.aws/groundstation {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Ground Station\"}, com.cognitect.aws/guardduty - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon GuardDuty\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon GuardDuty\"}, com.cognitect.aws/health {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Health APIs and Notifications\"}, com.cognitect.aws/healthlake @@ -246,9 +248,9 @@ com.cognitect.aws/honeycode {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Honeycode\"}, com.cognitect.aws/iam - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Identity and Access Management\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Identity and Access Management\"}, com.cognitect.aws/identitystore - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS SSO Identity Store\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS SSO Identity Store\"}, com.cognitect.aws/imagebuilder {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"EC2 Image Builder\"}, com.cognitect.aws/importexport @@ -272,6 +274,8 @@ {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS IoT Events Data\"}, com.cognitect.aws/iotfleethub {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS IoT Fleet Hub\"}, + com.cognitect.aws/iotfleetwise + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS IoT FleetWise\"}, com.cognitect.aws/iotsecuretunneling {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS IoT Secure Tunneling\"}, com.cognitect.aws/iotsitewise @@ -291,7 +295,7 @@ com.cognitect.aws/kafkaconnect {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Managed Streaming for Kafka Connect\"}, com.cognitect.aws/kendra - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWSKendraFrontendService\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWSKendraFrontendService\"}, com.cognitect.aws/keyspaces {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Keyspaces\"}, com.cognitect.aws/kinesis {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"Amazon Kinesis\"}, @@ -319,9 +323,9 @@ com.cognitect.aws/license-manager-user-subscriptions {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS License Manager User Subscriptions\"}, com.cognitect.aws/lightsail - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Lightsail\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Lightsail\"}, com.cognitect.aws/location - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Location Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Location Service\"}, com.cognitect.aws/logs {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon CloudWatch Logs\"}, com.cognitect.aws/lookoutequipment @@ -343,15 +347,15 @@ com.cognitect.aws/marketplacecommerceanalytics {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS Marketplace Commerce Analytics\"}, com.cognitect.aws/mediaconnect - {:mvn/version \"821.2.1107.0\", :aws/serviceFullName \"AWS MediaConnect\"}, + {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"AWS MediaConnect\"}, com.cognitect.aws/mediaconvert - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Elemental MediaConvert\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Elemental MediaConvert\"}, com.cognitect.aws/medialive - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Elemental MediaLive\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Elemental MediaLive\"}, com.cognitect.aws/mediapackage {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Elemental MediaPackage\"}, com.cognitect.aws/mediapackage-vod - {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"AWS Elemental MediaPackage VOD\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Elemental MediaPackage VOD\"}, com.cognitect.aws/mediastore {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Elemental MediaStore\"}, com.cognitect.aws/mediastore-data @@ -367,13 +371,15 @@ {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Migration Hub Refactor Spaces\"}, com.cognitect.aws/migrationhub-config {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Migration Hub Config\"}, + com.cognitect.aws/migrationhuborchestrator + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Migration Hub Orchestrator\"}, com.cognitect.aws/migrationhubstrategy {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Migration Hub Strategy Recommendations\"}, com.cognitect.aws/mobile {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Mobile\"}, com.cognitect.aws/mobileanalytics {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Mobile Analytics\"}, com.cognitect.aws/models-lex-v2 - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Lex Model Building V2\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Lex Model Building V2\"}, com.cognitect.aws/monitoring {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon CloudWatch\"}, com.cognitect.aws/mq {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"AmazonMQ\"}, @@ -382,10 +388,10 @@ com.cognitect.aws/mwaa {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AmazonMWAA\"}, com.cognitect.aws/neptune {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon Neptune\"}, com.cognitect.aws/network-firewall - {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Network Firewall\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Network Firewall\"}, com.cognitect.aws/networkmanager {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Network Manager\"}, - com.cognitect.aws/nimble {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AmazonNimbleStudio\"}, + com.cognitect.aws/nimble {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AmazonNimbleStudio\"}, com.cognitect.aws/opensearch {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon OpenSearch Service\"}, com.cognitect.aws/opsworks {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS OpsWorks\"}, @@ -393,8 +399,8 @@ {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS OpsWorks CM\"}, com.cognitect.aws/organizations {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Organizations\"}, - com.cognitect.aws/outposts {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"AWS Outposts\"}, - com.cognitect.aws/panorama {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Panorama\"}, + com.cognitect.aws/outposts {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Outposts\"}, + com.cognitect.aws/panorama {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Panorama\"}, com.cognitect.aws/personalize {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Personalize\"}, com.cognitect.aws/personalize-events @@ -410,24 +416,24 @@ {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Pinpoint SMS and Voice Service\"}, com.cognitect.aws/pinpoint-sms-voice-v2 {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Pinpoint SMS Voice V2\"}, - com.cognitect.aws/polly {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Polly\"}, + com.cognitect.aws/polly {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Polly\"}, com.cognitect.aws/pricing {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Price List Service\"}, com.cognitect.aws/privatenetworks {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS Private 5G\"}, - com.cognitect.aws/proton {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Proton\"}, + com.cognitect.aws/proton {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Proton\"}, com.cognitect.aws/qldb {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon QLDB\"}, com.cognitect.aws/qldb-session {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon QLDB Session\"}, com.cognitect.aws/quicksight - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon QuickSight\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon QuickSight\"}, com.cognitect.aws/ram {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Resource Access Manager\"}, com.cognitect.aws/rbin {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Recycle Bin\"}, com.cognitect.aws/rds - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Relational Database Service\"}, + {:mvn/version \"825.2.1220.0\", :aws/serviceFullName \"Amazon Relational Database Service\"}, com.cognitect.aws/rds-data - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS RDS DataService\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS RDS DataService\"}, com.cognitect.aws/redshift {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Redshift\"}, com.cognitect.aws/redshift-data {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Redshift Data API Service\"}, @@ -436,7 +442,7 @@ com.cognitect.aws/rekognition {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Rekognition\"}, com.cognitect.aws/resiliencehub - {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Resilience Hub\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Resilience Hub\"}, com.cognitect.aws/resource-groups {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Resource Groups\"}, com.cognitect.aws/resourcegroupstaggingapi @@ -461,14 +467,14 @@ com.cognitect.aws/runtime-lex-v2 {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Lex Runtime V2\"}, com.cognitect.aws/runtime-sagemaker - {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon SageMaker Runtime\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon SageMaker Runtime\"}, com.cognitect.aws/s3 {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon Simple Storage Service\"}, - com.cognitect.aws/s3control {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS S3 Control\"}, + com.cognitect.aws/s3control {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS S3 Control\"}, com.cognitect.aws/s3outposts {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon S3 on Outposts\"}, com.cognitect.aws/sagemaker - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon SageMaker Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon SageMaker Service\"}, com.cognitect.aws/sagemaker-a2i-runtime {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon Augmented AI Runtime\"}, com.cognitect.aws/sagemaker-edge @@ -480,7 +486,7 @@ com.cognitect.aws/schemas {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Schemas\"}, com.cognitect.aws/sdb {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon SimpleDB\"}, com.cognitect.aws/secretsmanager - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS Secrets Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Secrets Manager\"}, com.cognitect.aws/securityhub {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS SecurityHub\"}, com.cognitect.aws/serverlessrepo @@ -500,22 +506,22 @@ com.cognitect.aws/snow-device-management {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Snow Device Management\"}, com.cognitect.aws/snowball - {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Import/Export Snowball\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Import/Export Snowball\"}, com.cognitect.aws/sns {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Simple Notification Service\"}, com.cognitect.aws/sqs {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon Simple Queue Service\"}, com.cognitect.aws/ssm - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"Amazon Simple Systems Manager (SSM)\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Simple Systems Manager (SSM)\"}, com.cognitect.aws/ssm-contacts {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"AWS Systems Manager Incident Manager Contacts\"}, com.cognitect.aws/ssm-incidents - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Systems Manager Incident Manager\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Systems Manager Incident Manager\"}, com.cognitect.aws/sso {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Single Sign-On\"}, com.cognitect.aws/sso-admin {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Single Sign-On Admin\"}, - com.cognitect.aws/sso-oidc {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"AWS SSO OIDC\"}, + com.cognitect.aws/sso-oidc {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS SSO OIDC\"}, com.cognitect.aws/states {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS Step Functions\"}, com.cognitect.aws/storagegateway {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"AWS Storage Gateway\"}, @@ -537,25 +543,25 @@ com.cognitect.aws/transcribe {:mvn/version \"822.2.1181.0\", :aws/serviceFullName \"Amazon Transcribe Service\"}, com.cognitect.aws/transfer - {:mvn/version \"823.2.1216.0\", :aws/serviceFullName \"AWS Transfer Family\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS Transfer Family\"}, com.cognitect.aws/translate - {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon Translate\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Translate\"}, com.cognitect.aws/voice-id {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Voice ID\"}, com.cognitect.aws/waf {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS WAF\"}, com.cognitect.aws/waf-regional {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS WAF Regional\"}, - com.cognitect.aws/wafv2 {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"AWS WAFV2\"}, + com.cognitect.aws/wafv2 {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"AWS WAFV2\"}, com.cognitect.aws/wellarchitected {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"AWS Well-Architected Tool\"}, com.cognitect.aws/wisdom - {:mvn/version \"822.2.1205.0\", :aws/serviceFullName \"Amazon Connect Wisdom Service\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon Connect Wisdom Service\"}, com.cognitect.aws/workdocs {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon WorkDocs\"}, com.cognitect.aws/worklink {:mvn/version \"822.2.1122.0\", :aws/serviceFullName \"Amazon WorkLink\"}, - com.cognitect.aws/workmail {:mvn/version \"822.2.1171.0\", :aws/serviceFullName \"Amazon WorkMail\"}, + com.cognitect.aws/workmail {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon WorkMail\"}, com.cognitect.aws/workmailmessageflow {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"Amazon WorkMail Message Flow\"}, com.cognitect.aws/workspaces - {:mvn/version \"822.2.1193.0\", :aws/serviceFullName \"Amazon WorkSpaces\"}, + {:mvn/version \"825.2.1233.0\", :aws/serviceFullName \"Amazon WorkSpaces\"}, com.cognitect.aws/workspaces-web {:mvn/version \"822.2.1145.0\", :aws/serviceFullName \"Amazon WorkSpaces Web\"}, com.cognitect.aws/xray {:mvn/version \"822.2.1109.0\", :aws/serviceFullName \"AWS X-Ray\"}} diff --git a/src/cognitect/aws/client/api.clj b/src/cognitect/aws/client/api.clj index b7cc0ce..afcd227 100644 --- a/src/cognitect/aws/client/api.clj +++ b/src/cognitect/aws/client/api.clj @@ -41,11 +41,11 @@ :hostname - string :port - int :path - string - If the hostname includes an AWS region, be sure use the same + If the hostname includes an AWS region, be sure to use the same region for the client (either via out of process configuration or the :region key supplied to this fn). Also supports a string representing just the hostname, though - support for a string is deprectated and may be removed in the + support for a string is deprecated and may be removed in the future. :retriable? - optional, predicate fn of http-response (see cognitect.aws.http/submit), which should return a truthy value if the request is @@ -121,6 +121,9 @@ After invoking (cognitect.aws.client.api/validate-requests true), validates :request in op-map. + + See https://github.com/cognitect-labs/aws-api/blob/main/doc/types.md for a + mapping of AWS types to Clojure/java types. Alpha. Subject to change.\" [client op-map] @@ -229,6 +232,9 @@ (defn doc \"Given a client and an operation (keyword), prints documentation for that operation to the current value of *out*. Returns nil. + + See https://github.com/cognitect-labs/aws-api/blob/main/doc/types.md for a + mapping of AWS types to Clojure/java types. Alpha. Subject to change.\" [client operation] diff --git a/src/cognitect/aws/client/impl.clj b/src/cognitect/aws/client/impl.clj index ff582e2..4eeef77 100644 --- a/src/cognitect/aws/client/impl.clj +++ b/src/cognitect/aws/client/impl.clj @@ -22,11 +22,13 @@ ;; TODO convey throwable back from impl (defn ^:private handle-http-response - [service op-map http-response] + [service op-map {:keys [status] :as http-response}] (try (if (:cognitect.anomalies/category http-response) http-response - (aws.protocols/parse-http-response service op-map http-response)) + (if (< status 400) + (aws.protocols/parse-http-response service op-map http-response) + (aws.protocols/parse-http-error-response http-response))) (catch Throwable t {:cognitect.anomalies/category :cognitect.anomalies/fault ::throwable t}))) diff --git a/src/cognitect/aws/protocols.clj b/src/cognitect/aws/protocols.clj index c6f9c30..752b1db 100644 --- a/src/cognitect/aws/protocols.clj +++ b/src/cognitect/aws/protocols.clj @@ -44,15 +44,21 @@ (contains? #{\"query\" \"ec2\"} protocol) (assoc \"content-type\" \"application/x-www-form-urlencoded; charset=utf-8\")))) -(defn parse-error* - [{:keys [status] :as http-response} response-body] - (with-meta (assoc response-body :cognitect.anomalies/category (status-code->anomaly status)) - http-response)) - -(defn xml-parse-error - [{:keys [body] :as http-response}] - (parse-error* http-response (some-> body util/bbuf->str util/xml-read util/xml->map))) +(defn- parse-encoded-string* + \"Given non-nil String, determine the encoding (currently either XML or JSON). Return a Map + representation of the encoded data.\" + [encoded-str] + (if (= < (first encoded-str)) + (-> encoded-str util/xml-read util/xml->map) + (-> encoded-str (json/read-str :key-fn keyword)))) -(defn json-parse-error - [{:keys [body] :as http-response}] - (parse-error* http-response (some-> body util/bbuf->str (json/read-str :key-fn keyword)))) +(defn parse-http-error-response + \"Given an http error response (any status code 400 or above), return an aws-api-specific response + Map.\" + [{:keys [status body] :as http-response}] + (with-meta + (assoc + (some-> body util/bbuf->str parse-encoded-string*) + :cognitect.anomalies/category + (status-code->anomaly status)) + http-response)) diff --git a/src/cognitect/aws/protocols/json.clj b/src/cognitect/aws/protocols/json.clj index f9b33d6..08f6614 100644 --- a/src/cognitect/aws/protocols/json.clj +++ b/src/cognitect/aws/protocols/json.clj @@ -34,14 +34,10 @@ :body (serialize input-shape (or request {}))})) (defmethod aws.protocols/parse-http-response \"json\" - [service {:keys [op]} {:keys [status body] :as http-response}] - (if (:cognitect.anomalies/category http-response) - http-response - (let [operation (get-in service [:operations op]) - output-shape (service/shape service (:output operation)) - body-str (util/bbuf->str body)] - (if (< status 400) - (if output-shape - (shape/json-parse output-shape body-str) - {}) - (aws.protocols/json-parse-error http-response))))) + [service {:keys [op]} {:keys [body]}] + (let [operation (get-in service [:operations op]) + output-shape (service/shape service (:output operation)) + body-str (util/bbuf->str body)] + (if output-shape + (shape/json-parse output-shape body-str) + {}))) diff --git a/src/cognitect/aws/protocols/query.clj b/src/cognitect/aws/protocols/query.clj index bc1d6fd..1141846 100644 --- a/src/cognitect/aws/protocols/query.clj +++ b/src/cognitect/aws/protocols/query.clj @@ -102,15 +102,11 @@ (build-query-http-request serialize service req-map)) (defn build-query-http-response - [service {:keys [op]} {:keys [status body] :as http-response}] + [service {:keys [op]} {:keys [body]}] (let [operation (get-in service [:operations op])] - (if (:cognitect.anomalies/category http-response) - http-response - (if (< status 400) - (if-let [output-shape (service/shape service (:output operation))] - (shape/xml-parse output-shape (util/bbuf->str body)) - (util/xml->map (util/xml-read (util/bbuf->str body)))) - (aws.protocols/xml-parse-error http-response))))) + (if-let [output-shape (service/shape service (:output operation))] + (shape/xml-parse output-shape (util/bbuf->str body)) + (util/xml->map (util/xml-read (util/bbuf->str body)))))) (defmethod aws.protocols/parse-http-response \"query\" [service op-map http-response] diff --git a/src/cognitect/aws/protocols/rest.clj b/src/cognitect/aws/protocols/rest.clj index 7197922..7e4b73e 100644 --- a/src/cognitect/aws/protocols/rest.clj +++ b/src/cognitect/aws/protocols/rest.clj @@ -248,15 +248,10 @@ (parse-fn output-shape body-str))))) (defn parse-http-response - [service {:keys [op]} {:keys [status body] :as http-response} - parse-body-str - parse-error] - (if (:cognitect.anomalies/category http-response) - http-response - (let [operation (get-in service [:operations op]) - output-shape (service/shape service (:output operation))] - (if (< status 400) - (merge (parse-non-payload-attrs output-shape http-response) - (when output-shape - (parse-body output-shape body parse-body-str))) - (parse-error http-response))))) + [service {:keys [op]} {:keys [body] :as http-response} + parse-body-str] + (let [operation (get-in service [:operations op]) + output-shape (service/shape service (:output operation))] + (merge (parse-non-payload-attrs output-shape http-response) + (when output-shape + (parse-body output-shape body parse-body-str))))) diff --git a/src/cognitect/aws/protocols/rest_json.clj b/src/cognitect/aws/protocols/rest_json.clj index 4fa67cb..f5de971 100644 --- a/src/cognitect/aws/protocols/rest_json.clj +++ b/src/cognitect/aws/protocols/rest_json.clj @@ -41,5 +41,4 @@ (rest/parse-http-response service op-map http-response - shape/json-parse - aws.protocols/json-parse-error)) + shape/json-parse)) diff --git a/src/cognitect/aws/protocols/rest_xml.clj b/src/cognitect/aws/protocols/rest_xml.clj index 2ba5e6d..651afe5 100644 --- a/src/cognitect/aws/protocols/rest_xml.clj +++ b/src/cognitect/aws/protocols/rest_xml.clj @@ -26,5 +26,4 @@ (rest/parse-http-response service op-map http-response - shape/xml-parse - aws.protocols/xml-parse-error)) + shape/xml-parse)) diff --git a/test/src/cognitect/aws/protocols_test.clj b/test/src/cognitect/aws/protocols_test.clj index 57efbf3..989c91b 100644 --- a/test/src/cognitect/aws/protocols_test.clj +++ b/test/src/cognitect/aws/protocols_test.clj @@ -17,7 +17,8 @@ [cognitect.aws.protocols.rest-json] [cognitect.aws.protocols.rest-xml] [cognitect.aws.util :as util]) - (:import (java.util Date))) + (:import (java.nio ByteBuffer) + (java.util Date))) (s/fdef cognitect.aws.util/query-string :args (s/cat :params (s/or :seq (s/coll-of (s/cat :key (s/or :kw simple-keyword? :str string?) @@ -434,5 +435,33 @@ \"rest-json\"]] (test-protocol protocol)))) +(deftest test-parse-http-error-response + (testing \"parse JSON-encoded error response body\" + (let [response {:status 401 + :body (ByteBuffer/wrap (.getBytes \"{\"FOO\": \"abc\"}\" \"UTF-8\"))} + parsed-response (aws.protocols/parse-http-error-response response)] + (is (= {:FOO \"abc\" :cognitect.anomalies/category :cognitect.anomalies/incorrect} + parsed-response)) + (testing \"http response is included as metadata on returned parsed error response\" + (is (= response (meta parsed-response)))))) + (testing \"parse XML-encoded response body - issue 218: AWS returns XML-encoded 404 response when JSON-encoding was expected\" + (let [response {:status 404 + :body (ByteBuffer/wrap (.getBytes \"<UnknownOperationException/>\" \"UTF-8\"))} + parsed-response (aws.protocols/parse-http-error-response response)] + (is (= {:UnknownOperationException nil + :UnknownOperationExceptionAttrs {} + :cognitect.anomalies/category :cognitect.anomalies/not-found} + parsed-response)) + (testing \"http response is included as metadata on returned parsed error response\" + (is (= response (meta parsed-response)))))) + (testing \"parse response with empty body\" + (let [response {:status 404 + :body nil} + parsed-response (aws.protocols/parse-http-error-response response)] + (is (= {:cognitect.anomalies/category :cognitect.anomalies/not-found} + parsed-response)) + (testing \"http response is included as metadata on returned parsed error response\" + (is (= response (meta parsed-response))))))) + (comment (t/run-tests)) ", "completion": "latest releases "}
